object dmIS: TdmIS
  OldCreateOrder = False
  OnCreate = DataModuleCreate
  Left = 456
  Top = 174
  Height = 625
  Width = 925
  object mT: TIBTransaction
    DefaultDatabase = dbIS
    Params.Strings = (
      'read_committed'
      'rec_version'
      'nowait')
    Left = 8
    Top = 8
  end
  object dbIS: TIBDatabase
    Params.Strings = (
      'user_name=bin'
      'password=hourglass'
      'lc_ctype=WIN1251')
    LoginPrompt = False
    DefaultTransaction = mT
    TraceFlags = [tfQExecute]
    AllowStreamedConnected = False
    Left = 48
    Top = 8
  end
  object qIN: TIBQuery
    Database = dbIS
    Transaction = mT
    Left = 32
    Top = 80
  end
  object dbDOC: TIBDatabase
    Params.Strings = (
      'user_name=bin'
      'password=hourglass'
      'lc_ctype=WIN1251')
    LoginPrompt = False
    DefaultTransaction = dT
    Left = 8
    Top = 440
  end
  object dT: TIBTransaction
    DefaultDatabase = dbDOC
    Params.Strings = (
      'read_committed'
      'rec_version'
      'nowait')
    Left = 8
    Top = 488
  end
  object qD_IN: TIBQuery
    Database = dbDOC
    Transaction = dT
    Left = 32
    Top = 488
  end
  object qR_BODY: TIBQuery
    Database = dbDOC
    Transaction = dT
    SQL.Strings = (
      'select ID_DOC, FILENAME, BODY from DOC_STORE'
      'where ID_DOC = :d1')
    Left = 56
    Top = 440
    ParamData = <
      item
        DataType = ftInteger
        Name = 'd1'
        ParamType = ptUnknown
      end>
    object qR_BODYID_DOC: TIntegerField
      FieldName = 'ID_DOC'
      Origin = '"WORKDOCS"."ID_DOC"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qR_BODYFILENAME: TIBStringField
      FieldName = 'FILENAME'
      Origin = '"WORKDOCS"."FILENAME"'
      Size = 128
    end
    object qR_BODYBODY: TBlobField
      FieldName = 'BODY'
      Origin = '"WORKDOCS"."BODY"'
      ProviderFlags = [pfInUpdate]
      Size = 8
    end
  end
  object upBODY: TIBQuery
    Database = dbDOC
    Transaction = dT
    SQL.Strings = (
      'UPDATE WORKDOCS SET FILENAME = :f1, BODY = :b1'
      'where ID_DOC = :d1')
    Left = 104
    Top = 440
    ParamData = <
      item
        DataType = ftString
        Name = 'f1'
        ParamType = ptUnknown
      end
      item
        DataType = ftBlob
        Name = 'b1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'd1'
        ParamType = ptUnknown
      end>
  end
  object cT: TIBTransaction
    DefaultDatabase = C_db
    Left = 144
    Top = 440
  end
  object C_db: TIBDatabase
    Params.Strings = (
      'user_name=SYSDBA'
      'lc_ctype=WIN1251')
    LoginPrompt = False
    DefaultTransaction = cT
    SQLDialect = 1
    Left = 176
    Top = 440
  end
  object qC_IN: TIBQuery
    Database = C_db
    Transaction = cT
    Left = 168
    Top = 488
  end
  object qPA: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from PROD_AREAS'
      'where ID_PATYPE in (5,11)'
      'and'
      '('
      '(cast(:cls as integer) is null)'
      'or'
      '((:cls = 1 ) and (d_close is null))'
      ')'
      'order by id_patype')
    Left = 96
    Top = 8
    ParamData = <
      item
        DataType = ftInteger
        Name = 'cls'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'cls'
        ParamType = ptUnknown
      end>
    object qPAID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"PROD_AREAS"."ID_P_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPANAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qPAU_TYPE: TIntegerField
      FieldName = 'U_TYPE'
      Origin = '"PROD_AREAS"."U_TYPE"'
    end
    object qPAID_PROD: TIntegerField
      FieldName = 'ID_PROD'
      Origin = '"PROD_AREAS"."ID_PROD"'
    end
  end
  object dsPA: TDataSource
    DataSet = qPA
    Left = 96
    Top = 56
  end
  object qPAreas: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from PROD_AREAS'
      'order by ID_P_AREA')
    Left = 56
    Top = 56
    object qPAreasID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"PROD_AREAS"."ID_P_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPAreasSHORTNAME: TIBStringField
      FieldName = 'SHORTNAME'
      Origin = '"PROD_AREAS"."SHORTNAME"'
      Size = 12
    end
    object qPAreasNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qPAreasID_PATYPE: TSmallintField
      FieldName = 'ID_PATYPE'
      Origin = '"PROD_AREAS"."ID_PATYPE"'
    end
    object qPAreasID_PARENT: TIntegerField
      FieldName = 'ID_PARENT'
      Origin = '"PROD_AREAS"."ID_PARENT"'
    end
    object qPAreasID_HEAD: TIntegerField
      FieldName = 'ID_HEAD'
      Origin = '"PROD_AREAS"."ID_HEAD"'
    end
    object qPAreasD_OPEN: TDateField
      FieldName = 'D_OPEN'
      Origin = '"PROD_AREAS"."D_OPEN"'
    end
    object qPAreasD_CLOSE: TDateField
      FieldName = 'D_CLOSE'
      Origin = '"PROD_AREAS"."D_CLOSE"'
    end
    object qPAreasID_DIV: TIntegerField
      FieldName = 'ID_DIV'
      Origin = '"PROD_AREAS"."ID_DIV"'
    end
  end
  object qUnits: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select ID_UNIT, NAME from UNITS'
      'order by NAME')
    Left = 144
    Top = 8
    object qUnitsID_UNIT: TIntegerField
      FieldName = 'ID_UNIT'
      Origin = '"UNITS"."ID_UNIT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qUnitsNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"UNITS"."NAME"'
      Size = 16
    end
  end
  object qOper: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from OPERATIONS'
      'where ID_AREA = :ar1 and ARCH IS NULL'
      'order by ID_OPERATION'
      '')
    Left = 192
    Top = 8
    ParamData = <
      item
        DataType = ftInteger
        Name = 'ar1'
        ParamType = ptUnknown
      end>
    object qOperID_AREA: TIntegerField
      FieldName = 'ID_AREA'
      Origin = '"OPERATIONS"."ID_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOperID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_OPERATION'
      Origin = '"OPERATIONS"."ID_OPERATION"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOperNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qOperSHORTNAME: TIBStringField
      DisplayLabel = #1050#1088#1072#1090#1082#1086#1077' '#1085#1072#1080#1084#1077#1085'.'
      FieldName = 'SHORTNAME'
      Origin = '"OPERATIONS"."SHORTNAME"'
      Size = 16
    end
    object qOperID_EQUIPMENT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1086#1088#1091#1076'.'
      FieldName = 'ID_EQUIPMENT'
      Origin = '"OPERATIONS"."ID_EQUIPMENT"'
    end
    object qOperCOST: TIBBCDField
      DisplayLabel = #1057#1090#1086#1080#1084#1086#1089#1090#1100
      FieldName = 'COST'
      Origin = '"OPERATIONS"."COST"'
      Precision = 18
      Size = 4
    end
    object qOperEX_RATE: TIBBCDField
      FieldName = 'EX_RATE'
      Origin = '"OPERATIONS"."EX_RATE"'
      Precision = 18
      Size = 4
    end
    object qOperID_CURRENCY: TSmallintField
      FieldName = 'ID_CURRENCY'
      Origin = '"OPERATIONS"."ID_CURRENCY"'
    end
    object qOperID_UNIT: TIntegerField
      FieldName = 'ID_UNIT'
      Origin = '"OPERATIONS"."ID_UNIT"'
    end
    object qOperARCH: TIBStringField
      FieldName = 'ARCH'
      Origin = '"OPERATIONS"."ARCH"'
      FixedChar = True
      Size = 1
    end
    object qOpernUNIT: TStringField
      DisplayLabel = #1045#1076'. '#1080#1079#1084'.'
      FieldKind = fkLookup
      FieldName = 'nUNIT'
      LookupDataSet = qUnits
      LookupKeyFields = 'ID_UNIT'
      LookupResultField = 'NAME'
      KeyFields = 'ID_UNIT'
      Lookup = True
    end
  end
  object dsOper: TDataSource
    DataSet = qOper
    Left = 192
    Top = 56
  end
  object qPers: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from  GET_WORKERS_AREA(:ID_AREA,:D_BEGIN,:D_END)'
      'order by FIO'
      '')
    Left = 232
    Top = 8
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'ID_AREA'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'D_BEGIN'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'D_END'
        ParamType = ptUnknown
      end>
    object qPersID_P: TIntegerField
      DisplayLabel = #1058#1072#1073'.'#8470
      FieldName = 'ID_P'
      Origin = '"PERSONNEL"."ID_P"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPersFIO: TIBStringField
      DisplayLabel = #1060'.'#1048'.'#1054'.'
      FieldName = 'FIO'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
    object qPersIDPOST: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1076#1086#1083#1078#1085'.'
      FieldName = 'IDPOST'
      Origin = '"PERSONNEL"."IDPOST"'
    end
    object qPersNAME: TIBStringField
      DisplayLabel = #1044#1086#1083#1078#1085#1086#1089#1090#1100
      FieldName = 'NAME'
      Origin = '"POST"."NAME"'
      Size = 50
    end
    object qPersIS_WORKER: TIntegerField
      DisplayLabel = #1056#1072#1073'.'#1057#1087#1077#1094'.(1)'
      FieldName = 'IS_WORKER'
      ProviderFlags = []
    end
    object qPersWORK_SHIFT: TIntegerField
      FieldName = 'WORK_SHIFT'
      Origin = '"GET_WORKERS_AREA"."WORK_SHIFT"'
    end
    object qPersWORK_SHIFT_NAME: TIBStringField
      DisplayLabel = #1043#1088#1072#1092#1080#1082
      FieldName = 'WORK_SHIFT_NAME'
      Origin = '"GET_WORKERS_AREA"."WORK_SHIFT_NAME"'
      Size = 32
    end
    object qPersWORK_SHIFT_NAME_SHORT: TIBStringField
      DisplayLabel = #1043#1088#1072#1092#1080#1082
      FieldName = 'WORK_SHIFT_NAME_SHORT'
      Origin = '"GET_WORKERS_AREA"."WORK_SHIFT_NAME_SHORT"'
      Size = 16
    end
    object qPersCONTRACT_TYPE: TIntegerField
      FieldName = 'CONTRACT_TYPE'
      Origin = '"GET_WORKERS_AREA"."CONTRACT_TYPE"'
    end
    object qPersCONTRACT_TYPE_NAME: TIBStringField
      DisplayLabel = #1050#1086#1085#1090#1088#1072#1082#1090
      FieldName = 'CONTRACT_TYPE_NAME'
      Origin = '"GET_WORKERS_AREA"."CONTRACT_TYPE_NAME"'
      Size = 32
    end
    object qPersD_DISMISS: TDateField
      FieldName = 'D_DISMISS'
    end
  end
  object dsPers: TDataSource
    DataSet = qPers
    Left = 232
    Top = 56
  end
  object qTeams: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from TEAMS')
    Left = 304
    Top = 8
    object qTeamsID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"TEAMS"."ID_P_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qTeamsID_TEAM: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_TEAM'
      Origin = '"TEAMS"."ID_TEAM"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qTeamsNAME: TIBStringField
      DisplayLabel = #1041#1088#1080#1075#1072#1076#1072
      FieldName = 'NAME'
      Origin = '"TEAMS"."NAME"'
      Size = 32
    end
    object qTeamsID_HEAD: TIntegerField
      FieldName = 'ID_HEAD'
      Origin = '"TEAMS"."ID_HEAD"'
    end
    object qTeamsCONTRACT_TYPE: TSmallintField
      FieldName = 'CONTRACT_TYPE'
      Origin = '"TEAMS"."CONTRACT_TYPE"'
    end
    object qTeamsWORK_SHIFT: TSmallintField
      FieldName = 'WORK_SHIFT'
      Origin = '"TEAMS"."WORK_SHIFT"'
    end
    object qTeamsD_OPEN: TDateTimeField
      DisplayLabel = #1054#1090#1082#1088#1099#1090#1072
      FieldName = 'D_OPEN'
      Origin = '"TEAMS"."D_OPEN"'
    end
    object qTeamsD_CLOSE: TDateTimeField
      DisplayLabel = #1047#1072#1082#1088#1099#1090#1072
      FieldName = 'D_CLOSE'
      Origin = '"TEAMS"."D_CLOSE"'
    end
    object qTeamsCOMMENT: TIBStringField
      DisplayLabel = #1050#1086#1084#1084#1077#1085#1090#1072#1088#1080#1081
      FieldName = 'COMMENT'
      Origin = '"TEAMS"."COMMENT"'
      Size = 128
    end
    object qTeamsnWSHIFT: TStringField
      DisplayLabel = #1043#1088#1072#1092#1080#1082' '#1088#1072#1073#1086#1090#1099
      FieldKind = fkLookup
      FieldName = 'nWSHIFT'
      LookupDataSet = qW_SHIFT
      LookupKeyFields = 'WORK_SHIFT'
      LookupResultField = 'NAME'
      KeyFields = 'WORK_SHIFT'
      Size = 32
      Lookup = True
    end
    object qTeamsnCONTR_TYPE: TStringField
      DisplayLabel = #1055#1086#1076#1088#1103#1076
      FieldKind = fkLookup
      FieldName = 'nCONTR_TYPE'
      LookupDataSet = qCONTR_TYPE
      LookupKeyFields = 'CONTRACT_TYPE'
      LookupResultField = 'NAME'
      KeyFields = 'CONTRACT_TYPE'
      Size = 32
      Lookup = True
    end
    object qTeamsrFIO: TStringField
      DisplayLabel = #1041#1088#1080#1075#1072#1076#1080#1088
      FieldKind = fkLookup
      FieldName = 'rFIO'
      LookupDataSet = qPers
      LookupKeyFields = 'ID_P'
      LookupResultField = 'FIO'
      KeyFields = 'ID_HEAD'
      Size = 50
      Lookup = True
    end
  end
  object dsTeams: TDataSource
    DataSet = qTeams
    Left = 304
    Top = 56
  end
  object qW_SHIFT: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * '
      'from WORK_SHIFTS'
      'order by WORK_SHIFT')
    Left = 344
    Top = 8
    object qW_SHIFTWORK_SHIFT: TSmallintField
      DisplayLabel = #1050#1086#1076
      FieldName = 'WORK_SHIFT'
      Origin = '"WORK_SHIFTS"."WORK_SHIFT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qW_SHIFTNAME: TIBStringField
      DisplayLabel = #1056#1072#1073#1086#1090#1072
      FieldName = 'NAME'
      Origin = '"WORK_SHIFTS"."NAME"'
      Size = 32
    end
    object qW_SHIFTTIME_BEGIN: TTimeField
      DisplayLabel = #1053#1072#1095#1072#1083#1086' '
      FieldName = 'TIME_BEGIN'
      Origin = '"WORK_SHIFTS"."TIME_BEGIN"'
    end
    object qW_SHIFTTIME_END: TTimeField
      DisplayLabel = #1054#1082#1086#1085#1095#1072#1085#1080#1077
      FieldName = 'TIME_END'
      Origin = '"WORK_SHIFTS"."TIME_END"'
    end
    object qW_SHIFTWORK_DAYS: TSmallintField
      DisplayLabel = #1056#1072#1073'. '#1076#1085#1077#1081
      FieldName = 'WORK_DAYS'
      Origin = '"WORK_SHIFTS"."WORK_DAYS"'
    end
    object qW_SHIFTREST_DAYS: TSmallintField
      DisplayLabel = #1042#1099#1093'. '#1076#1085#1077#1081
      FieldName = 'REST_DAYS'
      Origin = '"WORK_SHIFTS"."REST_DAYS"'
    end
    object qW_SHIFTCOMMENT: TIBStringField
      DisplayLabel = #1050#1086#1084#1084#1077#1085#1090#1072#1088#1080#1081
      FieldName = 'COMMENT'
      Origin = '"WORK_SHIFTS"."COMMENT"'
      Size = 128
    end
    object qW_SHIFTWORK_TIME: TIntegerField
      FieldName = 'WORK_TIME'
      Origin = '"WORK_SHIFTS"."WORK_TIME"'
    end
    object qW_SHIFTSHORTNAME: TIBStringField
      DisplayLabel = #1050#1088#1072#1090#1082#1086#1077
      FieldName = 'SHORTNAME'
      Origin = '"WORK_SHIFTS"."SHORTNAME"'
      Size = 16
    end
  end
  object qCONTR_TYPE: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * '
      'from CONTRACT_TYPES'
      'order by CONTRACT_TYPE')
    Left = 416
    Top = 8
    object qCONTR_TYPECONTRACT_TYPE: TSmallintField
      DisplayLabel = #1050#1086#1076
      FieldName = 'CONTRACT_TYPE'
      Origin = '"CONTRACT_TYPES"."CONTRACT_TYPE"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qCONTR_TYPENAME: TIBStringField
      DisplayLabel = #1053#1072#1081#1084
      FieldName = 'NAME'
      Origin = '"CONTRACT_TYPES"."NAME"'
      Size = 32
    end
    object qCONTR_TYPECOMMENT: TIBStringField
      DisplayLabel = #1050#1086#1084#1084#1077#1085#1090#1072#1088#1080#1081
      FieldName = 'COMMENT'
      Origin = '"CONTRACT_TYPES"."COMMENT"'
      Size = 128
    end
  end
  object dsWSHIFT: TDataSource
    DataSet = qW_SHIFT
    Left = 344
    Top = 56
  end
  object dsCONTYPE: TDataSource
    DataSet = qCONTR_TYPE
    Left = 416
    Top = 56
  end
  object qF_Pers: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select ID_P, FIO, IDPOST '
      'from PERSONNEL'
      'where IDPRODAREA = :a1 and D_DISMISS IS NULL and '
      'ID_P not in (select ID_P from TEAMS_P '
      'where ID_P_AREA = :a1)'
      'order by FIO')
    Left = 480
    Top = 8
    ParamData = <
      item
        DataType = ftInteger
        Name = 'a1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'a1'
        ParamType = ptUnknown
      end>
    object qF_PersID_P: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_P'
      Origin = '"PERSONNEL"."ID_P"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qF_PersFIO: TIBStringField
      DisplayLabel = #1060'.'#1048'.'#1054'.'
      FieldName = 'FIO'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
    object qF_PersIDPOST: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1076#1086#1083#1078#1085'.'
      FieldName = 'IDPOST'
      Origin = '"PERSONNEL"."IDPOST"'
    end
    object qF_PersnPost: TStringField
      DisplayLabel = #1044#1086#1083#1078#1085#1086#1089#1090#1100
      FieldKind = fkLookup
      FieldName = 'nPost'
      LookupDataSet = qPosts
      LookupKeyFields = 'IDPOST'
      LookupResultField = 'NAME'
      KeyFields = 'IDPOST'
      Size = 40
      Lookup = True
    end
  end
  object qT_Pers: TIBQuery
    Database = dbIS
    Transaction = mT
    OnDeleteError = qT_PersDeleteError
    OnNewRecord = qT_PersNewRecord
    SQL.Strings = (
      'select P.ID_P, P.FIO, P.IDPOST, T.RATING'
      'from TEAMS_P T join PERSONNEL P on T.ID_P = P.ID_P'
      'where T.ID_P_AREA = :a1 and T.ID_TEAM = :t1'
      'order by P.FIO')
    UpdateObject = upT_PERS
    Left = 528
    Top = 8
    ParamData = <
      item
        DataType = ftInteger
        Name = 'a1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 't1'
        ParamType = ptUnknown
      end>
    object qT_PersID_P: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_P'
      Origin = '"PERSONNEL"."ID_P"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      ReadOnly = True
      Required = True
    end
    object qT_PersFIO: TIBStringField
      DisplayLabel = #1060'.'#1048'.'#1054'.'
      FieldName = 'FIO'
      Origin = '"PERSONNEL"."FIO"'
      ReadOnly = True
      Size = 60
    end
    object qT_PersIDPOST: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1076#1086#1083#1078#1085'.'
      FieldName = 'IDPOST'
      Origin = '"PERSONNEL"."IDPOST"'
      ReadOnly = True
    end
    object qT_PersnPost: TStringField
      DisplayLabel = #1044#1086#1083#1078#1085#1086#1089#1090#1100
      FieldKind = fkLookup
      FieldName = 'nPost'
      LookupDataSet = qPosts
      LookupKeyFields = 'IDPOST'
      LookupResultField = 'NAME'
      KeyFields = 'IDPOST'
      ReadOnly = True
      Size = 40
      Lookup = True
    end
    object qT_PersRATING: TIBBCDField
      DisplayLabel = #1056#1077#1081#1090#1080#1085#1075
      FieldName = 'RATING'
      Origin = '"TEAMS_P"."RATING"'
      DisplayFormat = '#0.00'
      Precision = 18
      Size = 2
    end
  end
  object dsF_Pers: TDataSource
    DataSet = qF_Pers
    Left = 480
    Top = 56
  end
  object dsT_Pers: TDataSource
    DataSet = qT_Pers
    Left = 528
    Top = 56
  end
  object qPosts: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select IDPOST, NAME from POST'
      'order by IDPOST')
    Left = 144
    Top = 56
  end
  object qZBill: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterEdit = qZBillAfterEdit
    AfterPost = qZBillAfterPost
    AfterScroll = qZBillAfterScroll
    OnNewRecord = qZBillNewRecord
    SQL.Strings = (
      'select * from P_AREA_BILLS'
      'where D_GET is null'
      '')
    UpdateObject = upZBILL
    GeneratorField.Field = 'ID_PA_BILL'
    GeneratorField.Generator = 'BILL_ID'
    Left = 600
    Top = 8
    object qZBillID_PA_BILL: TIntegerField
      DisplayLabel = #1056#1077#1075'.'#8470
      FieldName = 'ID_PA_BILL'
      Origin = '"P_AREA_BILLS"."ID_PA_BILL"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qZBillID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"P_AREA_BILLS"."ID_P_AREA"'
      Required = True
    end
    object qZBillPA_BILL_TYPE: TSmallintField
      DisplayLabel = #1058#1080#1087
      FieldName = 'PA_BILL_TYPE'
      Origin = '"P_AREA_BILLS"."PA_BILL_TYPE"'
      Required = True
    end
    object qZBillID_DESTINATION: TIntegerField
      FieldName = 'ID_DESTINATION'
      Origin = '"P_AREA_BILLS"."ID_DESTINATION"'
    end
    object qZBillD_BILL: TDateField
      DisplayLabel = #1044#1072#1090#1072
      FieldName = 'D_BILL'
      Origin = '"P_AREA_BILLS"."D_BILL"'
    end
    object qZBillNUMBER: TIBStringField
      DisplayLabel = #1053#1086#1084#1077#1088
      FieldName = 'NUMBER'
      Origin = '"P_AREA_BILLS"."NUMBER"'
      Size = 16
    end
    object qZBillD_EDIT: TDateTimeField
      DisplayLabel = #1048#1079#1084#1077#1085#1077#1085#1072
      FieldName = 'D_EDIT'
      Origin = '"P_AREA_BILLS"."D_EDIT"'
    end
    object qZBillID_EDIT: TIntegerField
      FieldName = 'ID_EDIT'
      Origin = '"P_AREA_BILLS"."ID_EDIT"'
    end
    object qZBillD_CONFIRM: TDateTimeField
      DisplayLabel = #1056#1072#1079#1088#1077#1096#1077#1085#1080#1077#1085#1080#1077
      FieldName = 'D_CONFIRM'
      Origin = '"P_AREA_BILLS"."D_CONFIRM"'
    end
    object qZBillID_CONFIRM: TIntegerField
      DisplayLabel = #1050#1090#1086' '#1088#1072#1079#1088#1077#1096#1080#1083
      FieldName = 'ID_CONFIRM'
      Origin = '"P_AREA_BILLS"."ID_CONFIRM"'
    end
    object qZBillD_FIX: TDateTimeField
      DisplayLabel = #1055#1086#1076#1096#1080#1074#1082#1072' '#1086#1090#1087#1088#1072#1074#1080#1090#1077#1083#1077#1084
      FieldName = 'D_FIX'
      Origin = '"P_AREA_BILLS"."D_FIX"'
    end
    object qZBillID_FIX: TIntegerField
      FieldName = 'ID_FIX'
      Origin = '"P_AREA_BILLS"."ID_FIX"'
    end
    object qZBillD_GET: TDateTimeField
      DisplayLabel = #1059#1090#1074#1077#1088#1078#1076#1077#1085#1080#1077' '#1087#1086#1083#1091#1095#1072#1090#1077#1083#1077#1084
      FieldName = 'D_GET'
      Origin = '"P_AREA_BILLS"."D_GET"'
    end
    object qZBillID_GET: TIntegerField
      FieldName = 'ID_GET'
      Origin = '"P_AREA_BILLS"."ID_GET"'
    end
    object qZBillnDES: TStringField
      DisplayLabel = #1050#1086#1085#1090#1088#1072#1075#1077#1085#1090
      FieldKind = fkLookup
      FieldName = 'nDES'
      LookupDataSet = qStores
      LookupKeyFields = 'ID_P_AREA'
      LookupResultField = 'NAME'
      KeyFields = 'ID_DESTINATION'
      Size = 120
      Lookup = True
    end
    object qZBillID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"P_AREA_BILLS"."ID_TEAM"'
    end
    object qZBillnPA: TStringField
      DisplayLabel = #1050#1086#1085#1090#1088#1072#1075#1077#1085#1090
      FieldKind = fkLookup
      FieldName = 'nPA'
      LookupDataSet = qPAreas
      LookupKeyFields = 'ID_P_AREA'
      LookupResultField = 'NAME'
      KeyFields = 'ID_P_AREA'
      Size = 60
      Lookup = True
    end
  end
  object dsZBill: TDataSource
    DataSet = qZBill
    Left = 600
    Top = 56
  end
  object qZBill_S: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from GET_BILL_POS(:cpa)')
    Left = 640
    Top = 8
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'cpa'
        ParamType = ptUnknown
      end>
    object qZBill_SID_PA_BILL_POS: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_PA_BILL_POS'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_POS"'
    end
    object qZBill_SID_OBJECT: TIntegerField
      DisplayLabel = #1069#1083#1077#1084#1077#1085#1090
      FieldName = 'ID_OBJECT'
      Origin = '"GET_BILL_POS"."ID_OBJECT"'
    end
    object qZBill_SNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"GET_BILL_POS"."NAME"'
      Size = 128
    end
    object qZBill_SUNIT1: TIBStringField
      DisplayLabel = #1077'.'#1080'.'
      FieldName = 'UNIT1'
      Origin = '"GET_BILL_POS"."UNIT1"'
      Size = 16
    end
    object qZBill_SUNIT2: TIBStringField
      DisplayLabel = #1077'.'#1080'. '#1087#1088'.'
      FieldName = 'UNIT2'
      Origin = '"GET_BILL_POS"."UNIT2"'
      Size = 16
    end
    object qZBill_SID_UNIT: TIntegerField
      FieldName = 'ID_UNIT'
      Origin = '"GET_BILL_POS"."ID_UNIT"'
    end
    object qZBill_SID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_BILL_POS"."ID_BATCH"'
    end
    object qZBill_SID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_BILL_POS"."ID_PROD_OPER"'
    end
    object qZBill_SID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      Origin = '"GET_BILL_POS"."ID_STEP"'
    end
    object qZBill_SAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'AMOUNT'
      Origin = '"GET_BILL_POS"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qZBill_SOBJ_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087
      FieldName = 'OBJ_TYPE'
      Origin = '"GET_BILL_POS"."OBJ_TYPE"'
    end
    object qZBill_SID_ITEM: TIntegerField
      DisplayLabel = #1053#1086#1084#1077#1085#1082#1083'.'
      FieldName = 'ID_ITEM'
      Origin = '"GET_BILL_POS"."ID_ITEM"'
    end
    object qZBill_SN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1058#1047
      FieldName = 'N_ORDER'
      Origin = '"GET_BILL_POS"."N_ORDER"'
      Size = 16
    end
    object qZBill_SOLD_PROD_OPER: TIntegerField
      FieldName = 'OLD_PROD_OPER'
      Origin = '"GET_BILL_POS"."OLD_PROD_OPER"'
    end
    object qZBill_SoldOPER: TStringField
      DisplayLabel = #1055#1088#1077#1076'. '#1086#1087#1077#1088#1072#1094#1080#1103
      FieldKind = fkLookup
      FieldName = 'oldOPER'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'OLD_PROD_OPER'
      Size = 32
      Lookup = True
    end
    object qZBill_SID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"GET_BILL_POS"."ID_P"'
    end
    object qZBill_SID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"GET_BILL_POS"."ID_TEAM"'
    end
    object qZBill_SFACTOR: TIBBCDField
      DisplayLabel = #1050#1086#1101#1092#1092'.'
      FieldName = 'FACTOR'
      Origin = '"GET_BILL_POS"."FACTOR"'
      Precision = 18
      Size = 4
    end
    object qZBill_SAMOUNT2: TIBBCDField
      FieldName = 'AMOUNT2'
      Origin = '"GET_BILL_POS"."AMOUNT2"'
      Precision = 18
      Size = 4
    end
    object qZBill_SSUMMA: TIBBCDField
      DisplayLabel = #1057#1091#1084#1084#1072
      FieldName = 'SUMMA'
      Origin = '"GET_BILL_POS"."SUMMA"'
      Precision = 18
      Size = 4
    end
    object qZBill_SSUMMA_EXP: TIBBCDField
      DisplayLabel = #1057#1091#1084#1084#1072' '#1076#1086#1087'. '#1079#1072#1090#1088#1072#1090
      FieldName = 'SUMMA_EXP'
      Origin = '"GET_BILL_POS"."SUMMA_EXP"'
      Precision = 18
      Size = 4
    end
    object qZBill_SCENA: TIBBCDField
      FieldName = 'CENA'
      Origin = '"GET_BILL_POS"."CENA"'
      Precision = 18
      Size = 4
    end
    object qZBill_SCENA1: TIBBCDField
      FieldName = 'CENA1'
      Origin = '"GET_BILL_POS"."CENA1"'
      Precision = 18
      Size = 4
    end
    object qZBill_SID_SUBOPER: TIntegerField
      FieldName = 'ID_SUBOPER'
      Origin = '"GET_BILL_POS"."ID_SUBOPER"'
    end
    object qZBill_SID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1047
      FieldName = 'ID_ORDER'
      Origin = '"GET_BILL_POS"."ID_ORDER"'
    end
    object qZBill_SORD_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1058#1047
      FieldName = 'ORD_NAME'
      Origin = '"GET_BILL_POS"."ORD_NAME"'
      Size = 80
    end
    object qZBill_SID_PROD_TRAFF: TIntegerField
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"GET_BILL_POS"."ID_PROD_TRAFF"'
    end
    object qZBill_SID_PA_BILL_: TIntegerField
      FieldName = 'ID_PA_BILL_'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_"'
    end
    object qZBill_SNAME_O: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME_O'
      Origin = '"GET_BILL_POS"."NAME_O"'
      Size = 30
    end
    object qZBill_SID_C: TIntegerField
      FieldName = 'ID_C'
      Origin = '"GET_BILL_POS"."ID_C"'
    end
    object qZBill_SLID: TIntegerField
      FieldName = 'LID'
      Origin = '"GET_BILL_POS"."LID"'
    end
    object qZBill_SREM: TMemoField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"GET_BILL_POS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qZBill_SAMOUNT_ORD: TIntegerField
      DisplayLabel = #1058#1080#1088#1072#1078' '#1079#1072#1082#1072#1079#1072
      FieldName = 'AMOUNT_ORD'
      Origin = '"GET_BILL_POS"."AMOUNT_ORD"'
    end
    object qZBill_SQCD: TIntegerField
      FieldName = 'QCD'
      Origin = '"GET_BILL_POS"."QCD"'
    end
    object qZBill_SNDS: TFloatField
      DisplayLabel = #1053#1044#1057
      FieldName = 'NDS'
      Origin = '"GET_BILL_POS"."NDS"'
    end
    object qZBill_SSUMMA_NDS: TFloatField
      DisplayLabel = #1057#1091#1084#1084#1072' '#1053#1044#1057
      FieldName = 'SUMMA_NDS'
      Origin = '"GET_BILL_POS"."SUMMA_NDS"'
    end
    object qZBill_SFIO: TIBStringField
      DisplayLabel = #1060'.'#1048'.'#1054'.'
      FieldName = 'FIO'
      Origin = '"GET_BILL_POS"."FIO"'
      Size = 60
    end
    object qZBill_SNTEAM: TIBStringField
      DisplayLabel = #1041#1088#1080#1075#1072#1076#1072
      FieldName = 'NTEAM'
      Origin = '"GET_BILL_POS"."NTEAM"'
      Size = 40
    end
  end
  object dsZBill_S: TDataSource
    DataSet = qZBill_S
    Left = 640
    Top = 56
  end
  object qStores: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select ID_P_AREA, NAME from PROD_AREAS'
      'where ID_PATYPE IN (9,10)'
      'order by NAME')
    Left = 8
    Top = 112
    object qStoresID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"PROD_AREAS"."ID_P_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qStoresNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
  end
  object qDES_PA: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select ID_P_AREA, NAME from PROD_AREAS'
      'where ID_PATYPE = 5 and ID_P_AREA <> :cpa'
      'order by NAME')
    Left = 64
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'cpa'
        ParamType = ptUnknown
      end>
    object qDES_PAID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"PROD_AREAS"."ID_P_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qDES_PANAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
  end
  object dsStores: TDataSource
    DataSet = qStores
    Left = 8
    Top = 160
  end
  object dsDES_PA: TDataSource
    DataSet = qDES_PA
    Left = 64
    Top = 160
  end
  object qP_POS: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterScroll = qP_POSAfterScroll
    SQL.Strings = (
      
        'select distinct  o.id_object, p.name, o.obj_name, o.amount, o.ob' +
        'j_type,'
      'p.id_order, p.id_project, p.id_product, p.amount as p_amount, '
      'j.id_brand, j.n_order, j.name as proj_name'
      'from (((product_objects o join project_ords p'
      'on o.id_product = p.id_product) join product_oper r'
      'on r.id_object = o.id_object) join product_versions v'
      'on o.id_version=v.id_version) join projects j '
      'on j.id_project = p.id_project'
      'where  v.status = 3 and r.id_area = :pa1'
      'order by p.name')
    Left = 120
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qP_POSID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OBJECTS"."ID_OBJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qP_POSNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1080#1079#1076#1077#1083#1080#1103
      FieldName = 'NAME'
      Origin = '"PROJECT_POS"."NAME"'
      Size = 64
    end
    object qP_POSOBJ_NAME: TIBStringField
      DisplayLabel = #1069#1083#1077#1084#1077#1085#1090
      FieldName = 'OBJ_NAME'
      Origin = '"PRODUCT_OBJECTS"."OBJ_NAME"'
      Size = 128
    end
    object qP_POSID_PROJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1087#1088#1086#1077#1082#1090#1072
      FieldName = 'ID_PROJECT'
      Origin = '"PROJECT_POS"."ID_PROJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qP_POSID_PRODUCT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1080#1079#1076#1077#1083#1080#1103' '
      FieldName = 'ID_PRODUCT'
      Origin = '"PROJECT_POS"."ID_PRODUCT"'
    end
    object qP_POSID_BRAND: TIntegerField
      FieldName = 'ID_BRAND'
      Origin = '"PROJECTS"."ID_BRAND"'
    end
    object qP_POSN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"PROJECTS"."N_ORDER"'
      Size = 16
    end
    object qP_POSPROJ_NAME: TIBStringField
      DisplayLabel = #1055#1088#1086#1077#1082#1090
      FieldName = 'PROJ_NAME'
      Origin = '"PROJECTS"."NAME"'
      Size = 80
    end
    object qP_POSbRAND: TStringField
      DisplayLabel = #1041#1088#1101#1085#1076
      FieldKind = fkLookup
      FieldName = 'bRAND'
      LookupDataSet = qBrands
      LookupKeyFields = 'ID_BRAND'
      LookupResultField = 'NAME'
      KeyFields = 'ID_BRAND'
      Size = 16
      Lookup = True
    end
    object qP_POSAMOUNT: TIBBCDField
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_OBJECTS"."AMOUNT"'
      DisplayFormat = '#0.00'
      Precision = 18
      Size = 4
    end
    object qP_POSP_AMOUNT: TIBBCDField
      FieldName = 'P_AMOUNT'
      Origin = '"PROJECT_POS"."AMOUNT"'
      DisplayFormat = '#0.00'
      Precision = 18
      Size = 4
    end
    object qP_POSOBJ_TYPE: TIntegerField
      FieldName = 'OBJ_TYPE'
      Origin = '"PRODUCT_OBJECTS"."OBJ_TYPE"'
    end
    object qP_POSID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1047
      FieldName = 'ID_ORDER'
      Origin = '"PROJECT_ORDS"."ID_ORDER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
  end
  object dsP_POS: TDataSource
    DataSet = qP_POS
    Left = 120
    Top = 160
  end
  object qBrands: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from BRANDS'
      'order by ID_BRAND')
    Left = 168
    Top = 112
    object qBrandsID_BRAND: TIntegerField
      FieldName = 'ID_BRAND'
      Origin = '"BRANDS"."ID_BRAND"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qBrandsNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"BRANDS"."NAME"'
      Size = 32
    end
    object qBrandsID_C: TIntegerField
      FieldName = 'ID_C'
      Origin = '"BRANDS"."ID_C"'
    end
  end
  object qOBJ: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select P.ID_OBJECT, T.NAME, P.OBJ_TYPE, P. AMOUNT, P.REM '
      'from PRODUCT_OBJECTS P join PROD_OBJ_TREE T '
      'on P.ID_OBJECT = T.ID_OBJECT'
      'where P.ID_OBJECT = :obj1')
    Left = 216
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'obj1'
        ParamType = ptUnknown
      end>
    object qOBJID_OBJECT: TIntegerField
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OBJECTS"."ID_OBJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOBJNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"PROD_OBJ_TREE"."NAME"'
      Size = 128
    end
    object qOBJOBJ_TYPE: TIntegerField
      FieldName = 'OBJ_TYPE'
      Origin = '"PRODUCT_OBJECTS"."OBJ_TYPE"'
    end
    object qOBJAMOUNT: TIBBCDField
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_OBJECTS"."AMOUNT"'
      DisplayFormat = '#0.00'
      Precision = 18
      Size = 4
    end
    object qOBJREM: TMemoField
      FieldName = 'REM'
      Origin = '"PRODUCT_OBJECTS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
  end
  object dsOBJ: TDataSource
    DataSet = qOBJ
    Left = 216
    Top = 160
  end
  object qOBJ_OPER: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterScroll = qOBJ_OPERAfterScroll
    SQL.Strings = (
      'select P.ID_PROD_OPER, P.ID_AREA, A.NAME AS ANAME, '
      'P.ID_OPERATION, O.NAME, P.STEP, P.REM '
      'from (PRODUCT_OPER P join OPERATIONS O'
      'on P.ID_AREA = O.ID_AREA ) join  PROD_AREAS A'
      'on A.ID_P_AREA = O.ID_AREA'
      'and P.ID_OPERATION = O.ID_OPERATION'
      'where P.ID_OBJECT = :obj1'
      'order by P.STEP')
    Left = 272
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'obj1'
        ParamType = ptUnknown
      end>
    object qOBJ_OPERID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOBJ_OPERID_AREA: TIntegerField
      FieldName = 'ID_AREA'
      Origin = '"PRODUCT_OPER"."ID_AREA"'
      Required = True
    end
    object qOBJ_OPERID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_OPER"."ID_OPERATION"'
      Required = True
    end
    object qOBJ_OPERSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
    object qOBJ_OPERNAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qOBJ_OPERANAME: TIBStringField
      DisplayLabel = #1059#1095#1072#1089#1090#1086#1082
      FieldName = 'ANAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qOBJ_OPERREM: TMemoField
      FieldName = 'REM'
      Origin = '"PRODUCT_OPER"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
  end
  object dsOBJ_OPER: TDataSource
    DataSet = qOBJ_OPER
    Left = 272
    Top = 160
  end
  object qOPER_MAT: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select  M.*, I.NAME'
      'from PRODUCT_OPER_MATS M join ITEMS I'
      'on M.ID_ITEM = I.ID_ITEM'
      'where ID_PROD_OPER = :op1')
    Left = 432
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'op1'
        ParamType = ptUnknown
      end>
    object qOPER_MATID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER_MATS"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOPER_MATID_ITEM: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1052#1062
      FieldName = 'ID_ITEM'
      Origin = '"PRODUCT_OPER_MATS"."ID_ITEM"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOPER_MATAMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_OPER_MATS"."AMOUNT"'
      DisplayFormat = '### ### ##0.00000'
    end
    object qOPER_MATWASTE: TIBBCDField
      FieldName = 'WASTE'
      Origin = '"PRODUCT_OPER_MATS"."WASTE"'
      Precision = 9
      Size = 2
    end
    object qOPER_MATDEFECT: TIBBCDField
      FieldName = 'DEFECT'
      Origin = '"PRODUCT_OPER_MATS"."DEFECT"'
      Precision = 9
      Size = 2
    end
    object qOPER_MATLENG: TFloatField
      DisplayLabel = #1044#1083#1080#1085#1072
      FieldName = 'LENG'
      Origin = '"PRODUCT_OPER_MATS"."LENG"'
    end
    object qOPER_MATWIDTH: TFloatField
      DisplayLabel = #1064#1080#1088#1080#1085#1072
      FieldName = 'WIDTH'
      Origin = '"PRODUCT_OPER_MATS"."WIDTH"'
    end
    object qOPER_MATHEIGHT: TFloatField
      DisplayLabel = #1042#1099#1089#1086#1090#1072
      FieldName = 'HEIGHT'
      Origin = '"PRODUCT_OPER_MATS"."HEIGHT"'
    end
    object qOPER_MATREM: TBlobField
      FieldName = 'REM'
      Origin = '"PRODUCT_OPER_MATS"."REM"'
      ProviderFlags = [pfInUpdate]
      Size = 8
    end
    object qOPER_MATNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"ITEMS"."NAME"'
      Size = 128
    end
  end
  object dsOPER_MAT: TDataSource
    DataSet = qOPER_MAT
    Left = 432
    Top = 160
  end
  object qOBJ_DOCS: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * '
      'from PRODUCT_DOCS'
      'where ID_OBJECT = :obj1'
      'and status is null')
    Left = 504
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'obj1'
        ParamType = ptUnknown
      end>
    object qOBJ_DOCSID_PROD_DOC: TIntegerField
      FieldName = 'ID_PROD_DOC'
      Origin = '"PRODUCT_DOCS"."ID_PROD_DOC"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qOBJ_DOCSID_PRODUCT: TIntegerField
      FieldName = 'ID_PRODUCT'
      Origin = '"PRODUCT_DOCS"."ID_PRODUCT"'
    end
    object qOBJ_DOCSID_OBJECT: TIntegerField
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_DOCS"."ID_OBJECT"'
    end
    object qOBJ_DOCSDOC_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087
      FieldName = 'DOC_TYPE'
      Origin = '"PRODUCT_DOCS"."DOC_TYPE"'
    end
    object qOBJ_DOCSD_CONFIRM: TDateTimeField
      DisplayLabel = #1059#1090#1074#1077#1088#1078#1076#1077#1085
      FieldName = 'D_CONFIRM'
      Origin = '"PRODUCT_DOCS"."D_CONFIRM"'
    end
    object qOBJ_DOCSID_CONFIRM: TIntegerField
      FieldName = 'ID_CONFIRM'
      Origin = '"PRODUCT_DOCS"."ID_CONFIRM"'
    end
    object qOBJ_DOCSID_DOC: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1076#1086#1082'.'
      FieldName = 'ID_DOC'
      Origin = '"PRODUCT_DOCS"."ID_DOC"'
    end
    object qOBJ_DOCSNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1076#1086#1082#1091#1084#1077#1085#1090#1072
      FieldName = 'NAME'
      Origin = '"PRODUCT_DOCS"."NAME"'
      Size = 64
    end
  end
  object dsOBJ_DOCS: TDataSource
    DataSet = qOBJ_DOCS
    Left = 504
    Top = 160
  end
  object qPOS_OPER: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select P.ID_PROD_OPER, P.ID_OPERATION, O.NAME, P.STEP '
      'from PRODUCT_OPER P join OPERATIONS O'
      'on P.ID_AREA = O.ID_AREA  '
      'and P.ID_OPERATION = O.ID_OPERATION'
      'where P.ID_OBJECT = :obj1 and P.ID_AREA = :ar1'
      'order by P.STEP')
    Left = 368
    Top = 104
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'obj1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'ar1'
        ParamType = ptUnknown
      end>
    object qPOS_OPERID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPOS_OPERID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_OPER"."ID_OPERATION"'
      Required = True
    end
    object qPOS_OPERNAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qPOS_OPERSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
  end
  object dsPOS_OPER: TDataSource
    DataSet = qPOS_OPER
    Left = 376
    Top = 160
  end
  object qState: TIBQuery
    Database = dbIS
    Transaction = mT
    OnCalcFields = qStateCalcFields
    SQL.Strings = (
      'select N_ORDER, ID_OBJECT, NAME, ID_PROD_OPER,'
      ' SUM(AMOUNT)'
      'from GET_PA_STATE(:pa1)'
      'group by N_ORDER, ID_OBJECT, NAME, ID_PROD_OPER')
    Left = 568
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qStateN_ORDER: TIBStringField
      DisplayLabel = #1047#1072#1082#1072#1079
      FieldName = 'N_ORDER'
      ProviderFlags = []
      Size = 16
    end
    object qStateID_OBJECT: TIntegerField
      DisplayLabel = #1069#1083#1077#1084#1077#1085#1090
      FieldName = 'ID_OBJECT'
      ProviderFlags = []
    end
    object qStateNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      ProviderFlags = []
      Size = 128
    end
    object qStateID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_PROD_OPER'
      ProviderFlags = []
    end
    object qStateSUM: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'SUM'
      ProviderFlags = []
      Precision = 18
      Size = 4
    end
    object qStatenOPER: TStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldKind = fkLookup
      FieldName = 'nOPER'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'ID_PROD_OPER'
      Size = 32
      Lookup = True
    end
    object qStaterAMOUNT: TFloatField
      DisplayLabel = #1047#1072#1103#1074#1083#1077#1085#1086
      FieldKind = fkLookup
      FieldName = 'rAMOUNT'
      LookupDataSet = qR
      LookupKeyFields = 'ID_OBJECT; ID_PROD_OPER'
      LookupResultField = 'SUM'
      KeyFields = 'ID_OBJECT; ID_PROD_OPER'
      Lookup = True
    end
    object qStatefAMOUNT: TFloatField
      DisplayLabel = #1057#1074#1086#1073#1086#1076#1085#1086
      FieldKind = fkCalculated
      FieldName = 'fAMOUNT'
      Calculated = True
    end
  end
  object dsState: TDataSource
    DataSet = qState
    Left = 568
    Top = 160
  end
  object qBState: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterScroll = qBStateAfterScroll
    OnCalcFields = qBStateCalcFields
    SQL.Strings = (
      'select *'
      'from GET_PA_STATE(:pa1)')
    Left = 624
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qBStateID_PA_STATE: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_PA_STATE'
      Origin = '"GET_PA_STATE"."ID_PA_STATE"'
    end
    object qBStateID_OBJECT: TIntegerField
      DisplayLabel = #1069#1083#1077#1084#1077#1085#1090
      FieldName = 'ID_OBJECT'
      Origin = '"GET_PA_STATE"."ID_OBJECT"'
    end
    object qBStateNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"GET_PA_STATE"."NAME"'
      Size = 128
    end
    object qBStateUNIT1: TIBStringField
      DisplayLabel = #1077'.'#1080'.'
      FieldName = 'UNIT1'
      Origin = '"GET_PA_STATE"."UNIT1"'
      Size = 16
    end
    object qBStateUNIT2: TIBStringField
      DisplayLabel = #1087#1088'. '#1077'.'#1080'.'
      FieldName = 'UNIT2'
      Origin = '"GET_PA_STATE"."UNIT2"'
      Size = 16
    end
    object qBStateID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_PA_STATE"."ID_BATCH"'
    end
    object qBStateID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_PA_STATE"."ID_PROD_OPER"'
    end
    object qBStateID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      Origin = '"GET_PA_STATE"."ID_STEP"'
    end
    object qBStateID_OBJECT_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087
      FieldName = 'ID_OBJECT_TYPE'
      Origin = '"GET_PA_STATE"."ID_OBJECT_TYPE"'
    end
    object qBStateID_PA_BILL: TIntegerField
      DisplayLabel = #1053#1072#1082#1083'.'
      FieldName = 'ID_PA_BILL'
      Origin = '"GET_PA_STATE"."ID_PA_BILL"'
    end
    object qBStateFACTOR: TIntegerField
      DisplayLabel = #1050#1086#1101#1092#1092'.'
      FieldName = 'FACTOR'
      Origin = '"GET_PA_STATE"."FACTOR"'
    end
    object qBStateAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'AMOUNT'
      Origin = '"GET_PA_STATE"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qBStateID_ITEM: TIntegerField
      DisplayLabel = #1053#1086#1084#1077#1085#1082#1083'.'
      FieldName = 'ID_ITEM'
      Origin = '"GET_PA_STATE"."ID_ITEM"'
    end
    object qBStatenOPER: TStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldKind = fkLookup
      FieldName = 'nOPER'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'ID_PROD_OPER'
      Size = 32
      Lookup = True
    end
    object qBStaterAMOUNT: TFloatField
      DisplayLabel = #1047#1072#1103#1074#1083#1077#1085#1086
      FieldKind = fkLookup
      FieldName = 'rAMOUNT'
      LookupDataSet = qRZ
      LookupKeyFields = 'ID_OBJECT; ID_PROD_OPER; ID_BATCH'
      LookupResultField = 'SUM'
      KeyFields = 'ID_OBJECT; ID_PROD_OPER; ID_BATCH'
      Lookup = True
    end
    object qBStatefAMOUNT: TFloatField
      DisplayLabel = #1057#1074#1086#1073#1086#1076#1085#1086
      FieldKind = fkCalculated
      FieldName = 'fAMOUNT'
      Calculated = True
    end
    object qBStateN_ORDER: TIBStringField
      DisplayLabel = #1058#1047
      FieldName = 'N_ORDER'
      Origin = '"GET_PA_STATE"."N_ORDER"'
      Size = 16
    end
    object qBStatejAMOUNT: TFloatField
      DisplayLabel = #1059#1095#1090#1077#1085#1086
      FieldKind = fkLookup
      FieldName = 'jAMOUNT'
      LookupDataSet = qJR
      LookupKeyFields = 'ID_OBJECT;OLD_PROD_OPER;ID_BATCH'
      LookupResultField = 'SUM'
      KeyFields = 'ID_OBJECT;ID_PROD_OPER;ID_BATCH'
      Lookup = True
    end
    object qBStatejfAmount: TFloatField
      DisplayLabel = #1054#1089#1090#1072#1083#1086#1089#1100
      FieldKind = fkCalculated
      FieldName = 'jfAmount'
      Calculated = True
    end
    object qBStateID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1047
      FieldName = 'ID_ORDER'
      Origin = '"GET_PA_STATE"."ID_ORDER"'
    end
    object qBStateORD_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1058#1047
      FieldName = 'ORD_NAME'
      Origin = '"GET_PA_STATE"."ORD_NAME"'
      Size = 80
    end
  end
  object dsBState: TDataSource
    DataSet = qBState
    Left = 624
    Top = 160
  end
  object qJHead: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterScroll = qJHeadAfterScroll
    SQL.Strings = (
      'select  distinct J.ID_PROD_AREA, J.ID_OBJECT, P.NAME, '
      'S.N_ORDER, S.NAME AS P_NAME'
      'from (J_PROD_AREAS J join PROD_OBJ_TREE P'
      'on P.ID_OBJECT = J.ID_OBJECT) left join PROJECTS S'
      'on S.ID_PROJECT = P.ID_PROJECT'
      'where J.ID_PROD_AREA = :pa1'
      'order by J.ID_PROD_AREA, J.ID_OBJECT')
    Left = 16
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qJHeadID_PROD_AREA: TIntegerField
      FieldName = 'ID_PROD_AREA'
      Origin = '"J_PROD_AREAS"."ID_PROD_AREA"'
    end
    object qJHeadID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_OBJECT'
      Origin = '"J_PROD_AREAS"."ID_OBJECT"'
    end
    object qJHeadNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"PROD_OBJ_TREE"."NAME"'
      Size = 128
    end
    object qJHeadN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"PROJECTS"."N_ORDER"'
      Size = 16
    end
    object qJHeadP_NAME: TIBStringField
      DisplayLabel = #1055#1088#1086#1077#1082#1090
      FieldName = 'P_NAME'
      Origin = '"PROJECTS"."NAME"'
      Size = 80
    end
  end
  object qJState: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select ID_J_PROD_AREA,ID_PROD_OPER, ID_BATCH, '
      'DFIX, REC, EXP, REST, PA_BILL_TYPE, ID_PA_BILL '
      'from J_PROD_AREAS'
      'where ID_PROD_AREA = :pa1 and ID_OBJECT = :obj1'
      'order by ID_PROD_OPER, ID_BATCH, DFIX')
    Left = 72
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'obj1'
        ParamType = ptUnknown
      end>
    object qJStateID_J_PROD_AREA: TIntegerField
      FieldName = 'ID_J_PROD_AREA'
      Origin = '"J_PROD_AREAS"."ID_J_PROD_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qJStateID_PROD_OPER: TIntegerField
      DisplayLabel = #1059#1079#1077#1083' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'ID_PROD_OPER'
      Origin = '"J_PROD_AREAS"."ID_PROD_OPER"'
    end
    object qJStateID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"J_PROD_AREAS"."ID_BATCH"'
    end
    object qJStateDFIX: TDateTimeField
      DisplayLabel = #1044#1072#1090#1072
      FieldName = 'DFIX'
      Origin = '"J_PROD_AREAS"."DFIX"'
    end
    object qJStateREC: TIBBCDField
      DisplayLabel = #1055#1088#1080#1093#1086#1076
      FieldName = 'REC'
      Origin = '"J_PROD_AREAS"."REC"'
      Precision = 18
      Size = 4
    end
    object qJStateEXP: TIBBCDField
      DisplayLabel = #1056#1072#1089#1093#1086#1076
      FieldName = 'EXP'
      Origin = '"J_PROD_AREAS"."EXP"'
      Precision = 18
      Size = 4
    end
    object qJStateREST: TIBBCDField
      DisplayLabel = #1054#1089#1090#1072#1090#1086#1082
      FieldName = 'REST'
      Origin = '"J_PROD_AREAS"."REST"'
      Precision = 18
      Size = 4
    end
    object qJStatePA_BILL_TYPE: TSmallintField
      DisplayLabel = #1058#1080#1087' '#1085#1072#1082#1083'.'
      FieldName = 'PA_BILL_TYPE'
      Origin = '"J_PROD_AREAS"."PA_BILL_TYPE"'
    end
    object qJStateID_PA_BILL: TIntegerField
      DisplayLabel = #1053#1072#1082#1083'.'
      FieldName = 'ID_PA_BILL'
      Origin = '"J_PROD_AREAS"."ID_PA_BILL"'
    end
    object qJStatenOPER: TStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldKind = fkLookup
      FieldName = 'nOPER'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'ID_PROD_OPER'
      Size = 32
      Lookup = True
    end
  end
  object dsJHead: TDataSource
    DataSet = qJHead
    Left = 16
    Top = 264
  end
  object dsJState: TDataSource
    DataSet = qJState
    Left = 72
    Top = 264
  end
  object qNOper: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select P.ID_PROD_OPER, O.NAME '
      'from PRODUCT_OPER P join OPERATIONS O'
      'on O.ID_AREA = P.ID_AREA and'
      'O.ID_OPERATION = P.ID_OPERATION'
      'order by P.ID_PROD_OPER')
    Left = 168
    Top = 160
    object qNOperID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qNOperNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
  end
  object upT_PERS: TIBUpdateSQL
    RefreshSQL.Strings = (
      'select P.ID_P, P.FIO, P.IDPOST, T.RATING'
      'from TEAMS_P T join PERSONNEL P on T.ID_P = P.ID_P'
      'where T.ID_P_AREA = :a1 and T.ID_TEAM = :t1'
      'order by P.FIO')
    ModifySQL.Strings = (
      'update TEAMS_P'
      'set'
      '  RATING = :RATING'
      'where'
      '  ID_P = :OLD_ID_P')
    InsertSQL.Strings = (
      'select P.ID_P, P.FIO, P.IDPOST, T.RATING'
      'from TEAMS_P T join PERSONNEL P on T.ID_P = P.ID_P'
      'where T.ID_P_AREA = :a1 and T.ID_TEAM = :t1'
      'order by P.FIO')
    DeleteSQL.Strings = (
      'select P.ID_P, P.FIO, P.IDPOST, T.RATING'
      'from TEAMS_P T join PERSONNEL P on T.ID_P = P.ID_P'
      'where T.ID_P_AREA = :a1 and T.ID_TEAM = :t1'
      'order by P.FIO')
    Left = 560
    Top = 32
  end
  object qRZ: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select p.id_object, p.id_prod_oper, p.id_batch, sum(p.amount)'
      'from pa_bill_pos p join p_area_bills b'
      'on p.id_pa_bill = b.id_pa_bill'
      'where b.id_p_area = :pa1 and'
      'b.d_fix is null and b.pa_bill_type > 49'
      'group by p.id_object, p.id_prod_oper, p.id_batch')
    Left = 672
    Top = 112
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qRZID_OBJECT: TIntegerField
      FieldName = 'ID_OBJECT'
      ProviderFlags = []
    end
    object qRZID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      ProviderFlags = []
    end
    object qRZID_BATCH: TIntegerField
      FieldName = 'ID_BATCH'
      ProviderFlags = []
    end
    object qRZSUM: TIBBCDField
      FieldName = 'SUM'
      ProviderFlags = []
      Precision = 18
      Size = 4
    end
  end
  object qR: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select p.id_object, p.id_prod_oper, sum(p.amount)'
      'from pa_bill_pos p join p_area_bills b'
      'on p.id_pa_bill = b.id_pa_bill'
      'where b.id_p_area = :pa1 and'
      'b.d_fix is null and b.pa_bill_type > 49'
      'group by p.id_object, p.id_prod_oper')
    Left = 672
    Top = 160
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qRID_OBJECT: TIntegerField
      FieldName = 'ID_OBJECT'
      ProviderFlags = []
    end
    object qRID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      ProviderFlags = []
    end
    object qRSUM: TIBBCDField
      FieldName = 'SUM'
      ProviderFlags = []
      Precision = 18
      Size = 4
    end
  end
  object qTAB: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select EXTRACT(DAY FROM s.TAB_DAY) AS ID_DAY,'
      's.id_p,s.ID_TAB_COEFF, s.COEFF, s.val, t.shortname'
      'from TAB_POS s , tab_coeffs t'
      'where ID_TAB = :tb1 and ID_P = :p1'
      'and s.id_tab_coeff = t.id_tab_coeff'
      'order by s.id_p,1, s.ID_TAB_COEFF')
    Left = 120
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'tb1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'p1'
        ParamType = ptUnknown
      end>
    object qTABID_DAY: TSmallintField
      FieldName = 'ID_DAY'
      ProviderFlags = []
    end
    object qTABID_TAB_COEFF: TIntegerField
      FieldName = 'ID_TAB_COEFF'
      Origin = '"TAB_POS"."ID_TAB_COEFF"'
    end
    object qTABCOEFF: TIBBCDField
      FieldName = 'COEFF'
      Origin = '"TAB_POS"."COEFF"'
      Precision = 18
      Size = 3
    end
    object qTABVAL: TIBBCDField
      FieldName = 'VAL'
      Origin = '"TAB_POS"."VAL"'
      Precision = 18
      Size = 3
    end
    object qTABnS: TStringField
      FieldKind = fkLookup
      FieldName = 'nS'
      LookupDataSet = qT_COEF
      LookupKeyFields = 'ID_TAB_COEFF'
      LookupResultField = 'SHORTNAME'
      KeyFields = 'ID_TAB_COEFF'
      Size = 6
      Lookup = True
    end
    object qTABID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"TAB_POS"."ID_P"'
    end
    object qTABSHORTNAME: TIBStringField
      FieldName = 'SHORTNAME'
      Origin = '"TAB_COEFFS"."SHORTNAME"'
      Size = 4
    end
  end
  object qTAB_S: TIBQuery
    Database = dbIS
    Transaction = mT
    OnNewRecord = qTAB_SNewRecord
    SQL.Strings = (
      'select * '
      'from TAB_POS')
    UpdateObject = upTAB_S
    GeneratorField.Field = 'ID_TAB_POS'
    GeneratorField.Generator = 'OBJ_ID'
    Left = 168
    Top = 216
    object qTAB_SID_TAB_POS: TIntegerField
      FieldName = 'ID_TAB_POS'
      Origin = '"TAB_POS"."ID_TAB_POS"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qTAB_SID_TAB: TIntegerField
      FieldName = 'ID_TAB'
      Origin = '"TAB_POS"."ID_TAB"'
    end
    object qTAB_SID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"TAB_POS"."ID_P"'
    end
    object qTAB_STAB_DAY: TDateField
      DisplayLabel = #1044#1072#1090#1072
      FieldName = 'TAB_DAY'
      Origin = '"TAB_POS"."TAB_DAY"'
    end
    object qTAB_SID_TAB_COEFF: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_TAB_COEFF'
      Origin = '"TAB_POS"."ID_TAB_COEFF"'
    end
    object qTAB_SCOEFF: TIBBCDField
      DisplayLabel = #1050#1086#1101#1092#1092'.'
      FieldName = 'COEFF'
      Origin = '"TAB_POS"."COEFF"'
      Precision = 18
      Size = 3
    end
    object qTAB_SVAL: TIBBCDField
      DisplayLabel = #1063#1072#1089#1099
      FieldName = 'VAL'
      Origin = '"TAB_POS"."VAL"'
      Precision = 18
      Size = 3
    end
    object qTAB_SCOMMENT: TIBStringField
      DisplayLabel = #1050#1086#1084#1084#1077#1085#1090#1072#1088#1080#1081
      FieldName = 'COMMENT'
      Origin = '"TAB_POS"."COMMENT"'
      Size = 64
    end
    object qTAB_SsN: TStringField
      DisplayLabel = #1058#1072#1073'.'
      FieldKind = fkLookup
      FieldName = 'sN'
      LookupDataSet = qT_COEF
      LookupKeyFields = 'ID_TAB_COEFF'
      LookupResultField = 'SHORTNAME'
      KeyFields = 'ID_TAB_COEFF'
      Size = 6
      Lookup = True
    end
    object qTAB_SnCOEFF: TStringField
      DisplayLabel = #1042#1080#1076' '#1082#1086#1101#1092#1092'.'
      FieldKind = fkLookup
      FieldName = 'nCOEFF'
      LookupDataSet = qT_COEF
      LookupKeyFields = 'ID_TAB_COEFF'
      LookupResultField = 'NAME'
      KeyFields = 'ID_TAB_COEFF'
      Size = 64
      Lookup = True
    end
    object qTAB_SdCOEF: TFloatField
      DisplayLabel = #1050#1086#1101#1092#1092'. '#1089#1087#1088#1072#1074'.'
      FieldKind = fkLookup
      FieldName = 'dCOEF'
      LookupDataSet = qT_COEF
      LookupKeyFields = 'ID_TAB_COEFF'
      LookupResultField = 'VAL'
      KeyFields = 'ID_TAB_COEFF'
      ReadOnly = True
      DisplayFormat = '#0.000'
      Lookup = True
    end
  end
  object dsTAB_S: TDataSource
    DataSet = qTAB_S
    Left = 168
    Top = 264
  end
  object qT_COEF: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select C.*, T.NAME, T.SHORTNAME, T.DEF_VAL'
      'from TAB_PA_COEFFS C join TAB_COEFFS T'
      'on T.ID_TAB_COEFF = C.ID_TAB_COEFF '
      'where C.ID_P_AREA = :pa1'
      'order by T.NAME')
    Left = 224
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qT_COEFID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"TAB_PA_COEFFS"."ID_P_AREA"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qT_COEFID_TAB_COEFF: TIntegerField
      FieldName = 'ID_TAB_COEFF'
      Origin = '"TAB_PA_COEFFS"."ID_TAB_COEFF"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qT_COEFVAL: TIBBCDField
      FieldName = 'VAL'
      Origin = '"TAB_PA_COEFFS"."VAL"'
      Precision = 18
      Size = 3
    end
    object qT_COEFNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"TAB_COEFFS"."NAME"'
      Size = 64
    end
    object qT_COEFSHORTNAME: TIBStringField
      FieldName = 'SHORTNAME'
      Origin = '"TAB_COEFFS"."SHORTNAME"'
      Size = 4
    end
    object qT_COEFDEF_VAL: TIBBCDField
      FieldName = 'DEF_VAL'
      Origin = '"TAB_COEFFS"."DEF_VAL"'
      Precision = 18
      Size = 3
    end
  end
  object upTAB_S: TIBUpdateSQL
    RefreshSQL.Strings = (
      'Select '
      '  ID_TAB_POS,'
      '  ID_TAB,'
      '  ID_P,'
      '  TAB_DAY,'
      '  ID_TAB_COEFF,'
      '  COEFF,'
      '  VAL,'
      '  COMMENT'
      'from TAB_POS '
      'where'
      '  ID_TAB_POS = :ID_TAB_POS')
    ModifySQL.Strings = (
      'update TAB_POS'
      'set'
      '  ID_TAB_COEFF = :ID_TAB_COEFF,'
      '  COEFF = :COEFF,'
      '  COMMENT = :COMMENT,'
      '  VAL = :VAL'
      'where'
      '  ID_TAB_POS = :OLD_ID_TAB_POS')
    InsertSQL.Strings = (
      'insert into TAB_POS'
      
        '  (COEFF, COMMENT, ID_P, ID_TAB, ID_TAB_COEFF, ID_TAB_POS, TAB_D' +
        'AY, VAL)'
      'values'
      
        '  (:COEFF, :COMMENT, :ID_P, :ID_TAB, :ID_TAB_COEFF, :ID_TAB_POS,' +
        ' :TAB_DAY, '
      '   :VAL)')
    DeleteSQL.Strings = (
      'delete from TAB_POS'
      'where'
      '  ID_TAB_POS = :OLD_ID_TAB_POS')
    Left = 120
    Top = 264
  end
  object dsT_COEF: TDataSource
    DataSet = qT_COEF
    Left = 224
    Top = 264
  end
  object qNew_Oper: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select P.ID_PROD_OPER, P.ID_OPERATION, O.NAME, P.STEP,'
      'F.ID_OPERATION AS SUBOPER'
      'from (PRODUCT_OPER P join PRODUCT_TRAFF F'
      'on F.ID_PROD_OPER = P.ID_PROD_OPER) join OPERATIONS O'
      'on P.ID_AREA = O.ID_AREA  '
      'and P.ID_OPERATION = O.ID_OPERATION'
      'where P.ID_OBJECT = :obj1 and F.ID_AREA = :ar1'
      'and P.STEP > :st1'
      'order by P.STEP')
    Left = 288
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'obj1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'ar1'
        ParamType = ptUnknown
      end
      item
        DataType = ftSmallint
        Name = 'st1'
        ParamType = ptUnknown
      end>
    object qNew_OperID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qNew_OperID_OPERATION: TIntegerField
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_OPER"."ID_OPERATION"'
      Required = True
    end
    object qNew_OperNAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qNew_OperSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
    object qNew_OperSUBOPER: TIntegerField
      FieldName = 'SUBOPER'
      Origin = '"PRODUCT_TRAFF"."ID_OPERATION"'
    end
  end
  object dsNew_Oper: TDataSource
    DataSet = qNew_Oper
    Left = 288
    Top = 264
  end
  object qC_Oper: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select P.ID_OBJECT, P.ID_PROD_OPER, J.N_ORDER, '
      'P.ID_OPERATION, O.NAME,  B.OBJ_NAME AS PNAME,'
      'B.OBJ_TYPE, B.ID_VERSION, F.ID_OPERATION AS SUBOPER'
      'from ((((PRODUCT_OPER P join PRODUCT_TRAFF F'
      'on F.ID_PROD_OPER = P.ID_PROD_OPER) join OPERATIONS O'
      'on P.ID_AREA = O.ID_AREA'
      'and P.ID_OPERATION = O.ID_OPERATION'
      ') join PRODUCT_OBJECTS B'
      'on B.ID_OBJECT = P.ID_OBJECT)  join PROJECT_ORDS J'
      'on J.ID_ORDER = B.ID_ORDER)'
      'where F.ID_AREA = :ar1 and P.STEP = 1 and J.ID_ORDER = :pr1'
      'order by P.ID_OBJECT')
    Left = 352
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'ar1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'pr1'
        ParamType = ptUnknown
      end>
    object qC_OperID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1101#1083#1077#1084'.'
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OPER"."ID_OBJECT"'
      Required = True
    end
    object qC_OperID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qC_OperN_ORDER: TIBStringField
      DisplayLabel = #1047#1072#1082#1072#1079
      FieldName = 'N_ORDER'
      Origin = '"PROJECTS"."N_ORDER"'
      Size = 16
    end
    object qC_OperID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_OPER"."ID_OPERATION"'
      Required = True
    end
    object qC_OperNAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qC_OperPNAME: TIBStringField
      DisplayLabel = #1069#1083#1077#1084#1077#1085#1090
      FieldName = 'PNAME'
      Origin = '"PROJECTS"."NAME"'
      Size = 80
    end
    object qC_OperOBJ_TYPE: TIntegerField
      FieldName = 'OBJ_TYPE'
      Origin = '"PRODUCT_OBJECTS"."OBJ_TYPE"'
    end
    object qC_OperID_VERSION: TIntegerField
      DisplayLabel = #1042#1077#1088#1089#1080#1103
      FieldName = 'ID_VERSION'
      Origin = '"PRODUCT_OBJECTS"."ID_VERSION"'
    end
    object qC_OperSUBOPER: TIntegerField
      FieldName = 'SUBOPER'
      Origin = '"PRODUCT_TRAFF"."ID_OPERATION"'
    end
  end
  object dsC_Oper: TDataSource
    DataSet = qC_Oper
    Left = 352
    Top = 264
  end
  object qC_PROJECT: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterScroll = qC_PROJECTAfterScroll
    SQL.Strings = (
      'select distinct J.ID_ORDER, J.N_ORDER, J.NAME'
      'from (((PRODUCT_OPER P join OPERATIONS O'
      'on P.ID_AREA = O.ID_AREA'
      'and P.ID_OPERATION = O.ID_OPERATION'
      ') join PRODUCT_OBJECTS B'
      'on B.ID_OBJECT = P.ID_OBJECT)  join PROJECT_ORDS J'
      'on J.ID_ORDER = B.ID_ORDER)'
      'where P.ID_AREA = :ar1 and P.STEP = 1'
      'order by J.N_ORDER')
    Left = 416
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'ar1'
        ParamType = ptUnknown
      end>
    object qC_PROJECTID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1047
      FieldName = 'ID_ORDER'
      Origin = '"PROJECT_ORDS"."ID_ORDER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qC_PROJECTN_ORDER: TIBStringField
      DisplayLabel = #1047#1072#1082#1072#1079
      FieldName = 'N_ORDER'
      Origin = '"PROJECTS"."N_ORDER"'
      Size = 16
    end
    object qC_PROJECTNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"PROJECTS"."NAME"'
      Size = 80
    end
  end
  object dsC_PROJECT: TDataSource
    DataSet = qC_PROJECT
    Left = 416
    Top = 264
  end
  object qSBill_s: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select ID_ORDER, N_ORDER,ID_OBJECT, NAME, ID_PROD_OPER,'
      'OLD_PROD_OPER, ID_STEP, SUM(AMOUNT) '
      'from GET_BILL_POS(:cpa)'
      
        'GROUP BY ID_ORDER, N_ORDER,ID_OBJECT, NAME, ID_PROD_OPER,OLD_PRO' +
        'D_OPER, ID_STEP')
    Left = 480
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'cpa'
        ParamType = ptUnknown
      end>
    object qSBill_sID_OBJECT: TIntegerField
      DisplayLabel = #1069#1083#1077#1084#1077#1085#1090
      FieldName = 'ID_OBJECT'
      ProviderFlags = []
    end
    object qSBill_sNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      ProviderFlags = []
      Size = 128
    end
    object qSBill_sID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_PROD_OPER'
      ProviderFlags = []
    end
    object qSBill_sOLD_PROD_OPER: TIntegerField
      FieldName = 'OLD_PROD_OPER'
      ProviderFlags = []
    end
    object qSBill_sID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      ProviderFlags = []
    end
    object qSBill_sSUM: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'SUM'
      ProviderFlags = []
      Precision = 18
      Size = 4
    end
    object qSBill_snOper: TStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldKind = fkLookup
      FieldName = 'nOper'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'ID_PROD_OPER'
      Size = 32
      Lookup = True
    end
    object qSBill_soldOper: TStringField
      DisplayLabel = #1055#1088#1077#1076'. '#1086#1087#1077#1088#1072#1094#1080#1103
      FieldKind = fkLookup
      FieldName = 'oldOper'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'OLD_PROD_OPER'
      Size = 32
      Lookup = True
    end
    object qSBill_sN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1058#1047
      FieldName = 'N_ORDER'
      ProviderFlags = []
      Size = 16
    end
    object qSBill_sID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1047
      FieldName = 'ID_ORDER'
      ProviderFlags = []
    end
  end
  object dsSBill_s: TDataSource
    DataSet = qSBill_s
    Left = 480
    Top = 264
  end
  object qZBAD: TIBQuery
    Database = dbIS
    Transaction = mT
    OnNewRecord = qZBADNewRecord
    SQL.Strings = (
      'select * '
      'from P_AREA_BILLS'
      'where ID_P_AREA = :pa1 and  PA_BILL_TYPE = :t1 '
      'and D_FIX is NULL'
      'order by ID_PA_BILL')
    UpdateObject = upBAD
    GeneratorField.Field = 'ID_PA_BILL'
    GeneratorField.Generator = 'BILL_ID'
    Left = 536
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 't1'
        ParamType = ptUnknown
      end>
    object qZBADID_PA_BILL: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_PA_BILL'
      Origin = '"P_AREA_BILLS"."ID_PA_BILL"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qZBADID_P_AREA: TIntegerField
      FieldName = 'ID_P_AREA'
      Origin = '"P_AREA_BILLS"."ID_P_AREA"'
      Required = True
    end
    object qZBADPA_BILL_TYPE: TSmallintField
      FieldName = 'PA_BILL_TYPE'
      Origin = '"P_AREA_BILLS"."PA_BILL_TYPE"'
      Required = True
    end
    object qZBADID_DESTINATION: TIntegerField
      FieldName = 'ID_DESTINATION'
      Origin = '"P_AREA_BILLS"."ID_DESTINATION"'
    end
    object qZBADID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"P_AREA_BILLS"."ID_TEAM"'
    end
    object qZBADID_C: TIntegerField
      FieldName = 'ID_C'
      Origin = '"P_AREA_BILLS"."ID_C"'
    end
    object qZBADD_BILL: TDateField
      DisplayLabel = #1044#1072#1090#1072
      FieldName = 'D_BILL'
      Origin = '"P_AREA_BILLS"."D_BILL"'
    end
    object qZBADNUMBER: TIBStringField
      DisplayLabel = #8470' '#1072#1082#1090#1072
      FieldName = 'NUMBER'
      Origin = '"P_AREA_BILLS"."NUMBER"'
      Size = 16
    end
    object qZBADD_EDIT: TDateTimeField
      FieldName = 'D_EDIT'
      Origin = '"P_AREA_BILLS"."D_EDIT"'
    end
    object qZBADID_EDIT: TIntegerField
      FieldName = 'ID_EDIT'
      Origin = '"P_AREA_BILLS"."ID_EDIT"'
    end
    object qZBADD_CONFIRM: TDateTimeField
      FieldName = 'D_CONFIRM'
      Origin = '"P_AREA_BILLS"."D_CONFIRM"'
    end
    object qZBADID_CONFIRM: TIntegerField
      FieldName = 'ID_CONFIRM'
      Origin = '"P_AREA_BILLS"."ID_CONFIRM"'
    end
    object qZBADD_FIX: TDateTimeField
      FieldName = 'D_FIX'
      Origin = '"P_AREA_BILLS"."D_FIX"'
    end
    object qZBADID_FIX: TIntegerField
      FieldName = 'ID_FIX'
      Origin = '"P_AREA_BILLS"."ID_FIX"'
    end
    object qZBADD_GET: TDateTimeField
      FieldName = 'D_GET'
      Origin = '"P_AREA_BILLS"."D_GET"'
    end
    object qZBADID_GET: TIntegerField
      FieldName = 'ID_GET'
      Origin = '"P_AREA_BILLS"."ID_GET"'
    end
  end
  object qZB_S: TIBQuery
    Database = dbIS
    Transaction = mT
    DataSource = dsZBAD
    SQL.Strings = (
      'select * from GET_BILL_POS(:ID_PA_BILL)')
    GeneratorField.Field = 'ID_PA_BILL_POS'
    GeneratorField.Generator = 'OBJ_ID'
    Left = 584
    Top = 216
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'ID_PA_BILL'
        ParamType = ptUnknown
      end>
    object qZB_SID_PA_BILL_POS: TIntegerField
      FieldName = 'ID_PA_BILL_POS'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_POS"'
    end
    object qZB_SID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_OBJECT'
      Origin = '"GET_BILL_POS"."ID_OBJECT"'
    end
    object qZB_SNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"GET_BILL_POS"."NAME"'
      Size = 128
    end
    object qZB_SUNIT1: TIBStringField
      FieldName = 'UNIT1'
      Origin = '"GET_BILL_POS"."UNIT1"'
      Size = 16
    end
    object qZB_SUNIT2: TIBStringField
      FieldName = 'UNIT2'
      Origin = '"GET_BILL_POS"."UNIT2"'
      Size = 16
    end
    object qZB_SID_UNIT: TIntegerField
      FieldName = 'ID_UNIT'
      Origin = '"GET_BILL_POS"."ID_UNIT"'
    end
    object qZB_SID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_BILL_POS"."ID_BATCH"'
    end
    object qZB_SID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_BILL_POS"."ID_PROD_OPER"'
    end
    object qZB_SID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      Origin = '"GET_BILL_POS"."ID_STEP"'
    end
    object qZB_SAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'AMOUNT'
      Origin = '"GET_BILL_POS"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qZB_SOBJ_TYPE: TIntegerField
      FieldName = 'OBJ_TYPE'
      Origin = '"GET_BILL_POS"."OBJ_TYPE"'
    end
    object qZB_SID_ITEM: TIntegerField
      FieldName = 'ID_ITEM'
      Origin = '"GET_BILL_POS"."ID_ITEM"'
    end
    object qZB_SID_PROJECT: TIntegerField
      DisplayLabel = #1055#1088#1086#1077#1082#1090
      FieldName = 'ID_PROJECT'
      Origin = '"GET_BILL_POS"."ID_PROJECT"'
    end
    object qZB_SN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"GET_BILL_POS"."N_ORDER"'
      Size = 16
    end
    object qZB_SOLD_PROD_OPER: TIntegerField
      FieldName = 'OLD_PROD_OPER'
      Origin = '"GET_BILL_POS"."OLD_PROD_OPER"'
    end
    object qZB_SPR_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074'. '#1087#1088#1086#1077#1082#1090#1072
      FieldName = 'PR_NAME'
      Origin = '"GET_BILL_POS"."PR_NAME"'
      Size = 80
    end
    object qZB_SnOper: TStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldKind = fkLookup
      FieldName = 'nOper'
      LookupDataSet = qNOper
      LookupKeyFields = 'ID_PROD_OPER'
      LookupResultField = 'NAME'
      KeyFields = 'ID_PROD_OPER'
      Size = 32
      Lookup = True
    end
    object qZB_SFACTOR: TIBBCDField
      DisplayLabel = #1050#1086#1101#1092#1092'.'
      FieldName = 'FACTOR'
      Origin = '"GET_BILL_POS"."FACTOR"'
      Precision = 18
      Size = 4
    end
    object qZB_SAMOUNT2: TIBBCDField
      FieldName = 'AMOUNT2'
      Origin = '"GET_BILL_POS"."AMOUNT2"'
      Precision = 18
      Size = 4
    end
    object qZB_SID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"GET_BILL_POS"."ID_P"'
    end
    object qZB_SID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"GET_BILL_POS"."ID_TEAM"'
    end
    object qZB_SSUMMA: TIBBCDField
      FieldName = 'SUMMA'
      Origin = '"GET_BILL_POS"."SUMMA"'
      Precision = 18
      Size = 4
    end
    object qZB_SSUMMA_EXP: TIBBCDField
      FieldName = 'SUMMA_EXP'
      Origin = '"GET_BILL_POS"."SUMMA_EXP"'
      Precision = 18
      Size = 4
    end
    object qZB_SCENA: TIBBCDField
      FieldName = 'CENA'
      Origin = '"GET_BILL_POS"."CENA"'
      Precision = 18
      Size = 4
    end
    object qZB_SCENA1: TIBBCDField
      FieldName = 'CENA1'
      Origin = '"GET_BILL_POS"."CENA1"'
      Precision = 18
      Size = 4
    end
  end
  object dsZBAD: TDataSource
    DataSet = qZBAD
    Left = 536
    Top = 264
  end
  object dsZB_S: TDataSource
    DataSet = qZB_S
    Left = 584
    Top = 264
  end
  object upBAD: TIBUpdateSQL
    RefreshSQL.Strings = (
      'Select '
      '  ID_PA_BILL,'
      '  ID_P_AREA,'
      '  PA_BILL_TYPE,'
      '  ID_DESTINATION,'
      '  ID_TEAM,'
      '  ID_C,'
      '  D_BILL,'
      '  NUMBER,'
      '  D_EDIT,'
      '  ID_EDIT,'
      '  D_CONFIRM,'
      '  ID_CONFIRM,'
      '  D_FIX,'
      '  ID_FIX,'
      '  D_GET,'
      '  ID_GET'
      'from P_AREA_BILLS '
      'where'
      '  ID_PA_BILL = :ID_PA_BILL')
    ModifySQL.Strings = (
      'update P_AREA_BILLS'
      'set'
      '  D_BILL = :D_BILL,'
      '  D_EDIT = :D_EDIT,'
      '  ID_EDIT = :ID_EDIT,'
      '  ID_P_AREA = :ID_P_AREA,'
      '  NUMBER = :NUMBER,'
      '  PA_BILL_TYPE = :PA_BILL_TYPE'
      'where'
      '  ID_PA_BILL = :OLD_ID_PA_BILL')
    InsertSQL.Strings = (
      'insert into P_AREA_BILLS'
      
        '  (ID_PA_BILL, D_BILL, D_EDIT, ID_EDIT, ID_P_AREA, NUMBER, PA_BI' +
        'LL_TYPE)'
      'values'
      
        '  (:ID_PA_BILL, :D_BILL, :D_EDIT, :ID_EDIT, :ID_P_AREA, :NUMBER,' +
        ' :PA_BILL_TYPE)')
    DeleteSQL.Strings = (
      'delete from P_AREA_BILLS'
      'where'
      '  ID_PA_BILL = :OLD_ID_PA_BILL')
    Left = 624
    Top = 216
  end
  object qJR: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select p.id_object, p.old_prod_oper, p.id_batch, sum(p.amount)'
      'from pa_bill_pos p join p_area_bills b'
      'on p.id_pa_bill = b.id_pa_bill'
      'where b.id_p_area = :pa1 and'
      'b.d_fix is null and b.pa_bill_type = 70'
      'group by p.id_object, p.old_prod_oper, p.id_batch')
    Left = 624
    Top = 264
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object IntegerField1: TIntegerField
      FieldName = 'ID_OBJECT'
      ProviderFlags = []
    end
    object qJROLD_PROD_OPER: TIntegerField
      FieldName = 'OLD_PROD_OPER'
      ProviderFlags = []
    end
    object IntegerField3: TIntegerField
      FieldName = 'ID_BATCH'
      ProviderFlags = []
    end
    object IBBCDField1: TIBBCDField
      FieldName = 'SUM'
      ProviderFlags = []
      Precision = 18
      Size = 4
    end
  end
  object qP_PR: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select distinct p.id_order, p.n_order, p.name,pr.fio'
      'from ((project_ords p join product_oper r on '
      'r.id_version = p.id_version)'
      'join product_traff f on f.id_prod_oper = r.id_prod_oper'
      'and f.id_area = :pa1)'
      'left join personnel pr on p.id_constr = pr.id_p'
      'where p.d_close is null and p.d_reject is null')
    Left = 672
    Top = 216
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qP_PRID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1047
      FieldName = 'ID_ORDER'
      Origin = '"PROJECT_ORDS"."ID_ORDER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qP_PRN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"PROJECTS"."N_ORDER"'
      Size = 16
    end
    object qP_PRNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"PROJECTS"."NAME"'
      Size = 80
    end
    object qP_PRFIO: TIBStringField
      DisplayLabel = #1050#1086#1085#1089#1090#1088#1091#1082#1090#1086#1088
      FieldName = 'FIO'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
  end
  object dsP_PR: TDataSource
    DataSet = qP_PR
    Left = 672
    Top = 264
  end
  object upZBILL: TIBUpdateSQL
    RefreshSQL.Strings = (
      'Select '
      '  ID_PA_BILL,'
      '  ID_P_AREA,'
      '  PA_BILL_TYPE,'
      '  ID_DESTINATION,'
      '  ID_TEAM,'
      '  ID_C,'
      '  D_BILL,'
      '  NUMBER,'
      '  D_EDIT,'
      '  ID_EDIT,'
      '  D_CONFIRM,'
      '  ID_CONFIRM,'
      '  D_FIX,'
      '  ID_FIX,'
      '  D_GET,'
      '  ID_GET,'
      '  NUMBER_PO,'
      '  ID_CURRENCY,'
      '  ID_AGENT'
      'from P_AREA_BILLS '
      'where'
      '  ID_PA_BILL = :ID_PA_BILL')
    ModifySQL.Strings = (
      'update P_AREA_BILLS'
      'set'
      '  D_BILL = :D_BILL,'
      '  ID_DESTINATION = :ID_DESTINATION,'
      '  NUMBER = :NUMBER,'
      '  D_EDIT = CURRENT_TIMESTAMP,'
      '  ID_EDIT = :ID_EDIT,'
      '  D_CONFIRM = :D_CONFIRM,'
      ' ID_CONFIRM =:ID_CONFIRM'
      'where'
      '  ID_PA_BILL = :OLD_ID_PA_BILL')
    InsertSQL.Strings = (
      'insert into P_AREA_BILLS'
      '  (ID_PA_BILL,   ID_P_AREA,'
      '  PA_BILL_TYPE, D_BILL, ID_DESTINATION,'
      '  D_EDIT, ID_EDIT)'
      'values'
      '  (:ID_PA_BILL,   :ID_P_AREA,'
      '  :PA_BILL_TYPE, :D_BILL, :ID_DESTINATION,'
      '  CURRENT_TIMESTAMP, :ID_EDIT)')
    DeleteSQL.Strings = (
      'delete from P_AREA_BILLS'
      'where'
      '  ID_PA_BILL = :OLD_ID_PA_BILL')
    Left = 680
    Top = 32
  end
  object qBARG: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from BARGAIN')
    UpdateObject = upBARG
    GeneratorField.Field = 'ID_BARGAIN'
    GeneratorField.Generator = 'BILL_ID'
    Left = 8
    Top = 320
    object qBARGID_BARGAIN: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_BARGAIN'
      Origin = '"BARGAIN"."ID_BARGAIN"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qBARGNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"BARGAIN"."NAME"'
      Size = 128
    end
    object qBARGID_AREA: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1091#1095#1072#1089#1090#1082#1072
      FieldName = 'ID_AREA'
      Origin = '"BARGAIN"."ID_AREA"'
    end
    object qBARGD_BASIC: TDateField
      DisplayLabel = #1044#1072#1090#1072
      FieldName = 'D_BASIC'
      Origin = '"BARGAIN"."D_BASIC"'
    end
    object qBARGD_CONFIRM: TDateTimeField
      DisplayLabel = #1044#1072#1090#1072' '#1091#1090#1074'.'
      FieldName = 'D_CONFIRM'
      Origin = '"BARGAIN"."D_CONFIRM"'
    end
    object qBARGID_CONFIRM: TIntegerField
      DisplayLabel = #1059#1090#1074'.'
      FieldName = 'ID_CONFIRM'
      Origin = '"BARGAIN"."ID_CONFIRM"'
    end
    object qBARGD_FIX: TDateTimeField
      DisplayLabel = #1044#1072#1090#1072' '#1087#1086#1076#1096'.'
      FieldName = 'D_FIX'
      Origin = '"BARGAIN"."D_FIX"'
    end
    object qBARGID_FIX: TIntegerField
      DisplayLabel = #1055#1086#1076#1096'.'
      FieldName = 'ID_FIX'
      Origin = '"BARGAIN"."ID_FIX"'
    end
    object qBARGnAREA: TStringField
      DisplayLabel = #1059#1095#1072#1089#1090#1086#1082
      FieldKind = fkLookup
      FieldName = 'nAREA'
      LookupDataSet = qDES_PA
      LookupKeyFields = 'ID_P_AREA'
      LookupResultField = 'NAME'
      KeyFields = 'ID_AREA'
      Size = 64
      Lookup = True
    end
  end
  object dsBARG: TDataSource
    DataSet = qBARG
    Left = 8
    Top = 368
  end
  object upBARG: TIBUpdateSQL
    Left = 56
    Top = 320
  end
  object qP_OBJ: TIBQuery
    Database = dbIS
    Transaction = mT
    OnCalcFields = qP_OBJCalcFields
    DataSource = dsP_PR
    SQL.Strings = (
      
        'select o.id_object, o.id_version, o.obj_name, t.ID_OPERATION, t.' +
        'NAME,'
      ' i.NAME as INAME, F.ID_PROD_TRAFF, R.STEP '
      'from (((PRODUCT_OBJECTS O join product_oper r '
      'on r.id_object = o.id_object)'
      'left join items i on i.id_item = o.id_item)'
      'join PRODUCT_TRAFF F on F.ID_PROD_OPER = R.ID_PROD_OPER'
      'and F.id_area = :pa1)'
      'join OPERATIONS t on t.ID_AREA = F.ID_AREA '
      'and t.ID_OPERATION = F.ID_OPERATION'
      'where o.ID_ORDER = :ID_ORDER'
      'order by O.ID_OBJECT, R.STEP, T.ID_OPERATION')
    Left = 672
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'ID_ORDER'
        ParamType = ptUnknown
      end>
    object qP_OBJID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OBJECTS"."ID_OBJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qP_OBJID_VERSION: TIntegerField
      DisplayLabel = #1042#1077#1088#1089#1080#1103
      FieldName = 'ID_VERSION'
      Origin = '"PRODUCT_OBJECTS"."ID_VERSION"'
    end
    object qP_OBJOBJ_NAME: TIBStringField
      DisplayLabel = #1054#1073#1098#1077#1082#1090
      FieldName = 'OBJ_NAME'
      Origin = '"PRODUCT_OBJECTS"."OBJ_NAME"'
      Size = 128
    end
    object qP_OBJID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_OPERATION'
      Origin = '"OPERATIONS"."ID_OPERATION"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qP_OBJNAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qP_OBJID_PROD_TRAFF: TIntegerField
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"PRODUCT_TRAFF"."ID_PROD_TRAFF"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qP_OBJSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
    object qP_OBJINAME: TIBStringField
      FieldName = 'INAME'
      Origin = '"ITEMS"."NAME"'
      Size = 128
    end
    object qP_OBJnOBJ: TStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldKind = fkCalculated
      FieldName = 'nOBJ'
      Size = 64
      Calculated = True
    end
  end
  object dsP_OBJ: TDataSource
    DataSet = qP_OBJ
    Left = 672
    Top = 368
  end
  object qPLAN: TIBQuery
    Database = dbIS
    Transaction = mT
    DataSource = dsP_OBJ
    SQL.Strings = (
      'select * '
      'from PRODUCT_PLANS'
      'where ID_PROD_TRAF = :ID_PROD_TRAFF')
    Left = 624
    Top = 320
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'ID_PROD_TRAFF'
        ParamType = ptUnknown
      end>
    object qPLANID_PROD_PLAN: TIntegerField
      FieldName = 'ID_PROD_PLAN'
      Origin = '"PRODUCT_PLANS"."ID_PROD_PLAN"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPLANID_PROD_TRAF: TIntegerField
      FieldName = 'ID_PROD_TRAF'
      Origin = '"PRODUCT_PLANS"."ID_PROD_TRAF"'
    end
    object qPLAND_OUT: TDateField
      DisplayLabel = #1044#1072#1090#1072
      FieldName = 'D_OUT'
      Origin = '"PRODUCT_PLANS"."D_OUT"'
    end
    object qPLANAMOUNT: TFloatField
      DisplayLabel = #1055#1083#1072#1085
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_PLANS"."AMOUNT"'
      DisplayFormat = '### ### ##0.00'
    end
    object qPLANF_AMOUNT: TFloatField
      DisplayLabel = #1042#1099#1087#1086#1083#1085#1077#1085#1086
      FieldName = 'F_AMOUNT'
      Origin = '"PRODUCT_PLANS"."F_AMOUNT"'
      DisplayFormat = '### ### ##0.00'
    end
    object qPLANP_AMOUNT: TFloatField
      DisplayLabel = #1060#1072#1082#1090
      FieldName = 'P_AMOUNT'
      Origin = '"PRODUCT_PLANS"."P_AMOUNT"'
      DisplayFormat = '### ### ##0.00'
    end
    object qPLAND_FIX: TDateTimeField
      FieldName = 'D_FIX'
      Origin = '"PRODUCT_PLANS"."D_FIX"'
      DisplayFormat = #1044'/'#1088#1077#1076#1072#1082#1090#1080#1088#1086#1074#1072#1085#1080#1103
    end
    object qPLANID_FIX: TIntegerField
      FieldName = 'ID_FIX'
      Origin = '"PRODUCT_PLANS"."ID_FIX"'
      DisplayFormat = #1056#1077#1076#1072#1082#1090#1080#1088#1086#1074#1072#1083
    end
    object qPLANREM: TMemoField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"PRODUCT_PLANS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qPLANF_TIME: TFloatField
      DisplayLabel = #1060#1072#1082#1090'. '#1074#1088#1077#1084#1103' '#1074#1099#1087#1086#1083#1085#1077#1085#1080#1103' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'F_TIME'
      Origin = '"PRODUCT_PLANS"."F_TIME"'
    end
    object qPLANPOSIT: TIntegerField
      FieldName = 'POSIT'
      Origin = '"PRODUCT_PLANS"."POSIT"'
    end
  end
  object dsPLAN: TDataSource
    DataSet = qPLAN
    Left = 624
    Top = 368
  end
  object qD_JOB: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterPost = qD_JOBAfterPost
    AfterScroll = qD_JOBAfterScroll
    BeforeDelete = qD_JOBBeforeOpen
    BeforeInsert = qD_JOBBeforeInsert
    BeforeOpen = qD_JOBBeforeOpen
    SQL.Strings = (
      'select ii.name nmat,o.dec_no,'
      'floor(l.f_time) + ((l.f_time - floor(l.f_time))*60)/100 as f_tm,'
      'r.id_prod_oper,o.id_item,'
      
        'p.id_project, p.n_order,p.id_order, p.name, o.id_object, o.obj_t' +
        'ype,p.id_version,'
      
        'o.obj_name, coalesce(o.obj_name,i.name) as nm,o.amount amount_or' +
        'd,'
      
        's.id_operation, s.name as oname, l.amount,l.f_amount,l.p_amount,' +
        'l.amount - l.f_amount as ost,l.f_time,l.p_time,'
      'l.COMMENT,l.ID_EQUIPMENT,q.pl_name,'
      'i.name as iname, f.t_personnel,f.id_prod_traff,f.id_area,'
      'f.full_amount,f.produced,'
      'f.full_amount - coalesce(f.produced,0) ost_ord,'
      
        'f.t_personnel*l.amount as sum_pers, l.id_prod_plan,l.posit,subst' +
        'ring  (p.rem from 1 for 1024) rem ,substring  (r.rem from 1 for ' +
        '1024) rem_oper,r.step,r.descript,pr.fio,l.id_shift,'
      'case when f.t_personnel is null then 0'
      '                           when f.t_personnel=0 then 0'
      '                           else 1/f.t_personnel end kol_h,'
      'f.id_pa_to,a.name name_areain,p.d_close, f.id_batch,'
      's.cost,s.cost* f.t_personnel total'
      ''
      ',(select first 1 obj.obj_name'
      'from br_up_objects_l(o.id_object,0) br'
      'join product_objects obj on obj.id_object = br.id'
      'where obj.obj_name is not null'
      'order by br.id_level desc) parent_name,'
      'e.shotname eq_name'
      ''
      
        'from (((((project_ords p join product_objects o on o.id_version ' +
        '= p.id_version)'
      'join product_oper r on r.id_object = o.id_object)'
      
        'join product_traff f on p.id_batch = f.id_batch and f.id_prod_op' +
        'er = r.id_prod_oper and f.id_area = :pa1'
      'join equipments e on e.id_equipment = f.id_equipment)'
      
        'join operations s on s.id_area = f.id_area and s.id_operation = ' +
        'f.id_operation)'
      ''
      
        'join product_plans l on l.d_out = :d1 and  l.id_prod_traf = f.id' +
        '_prod_traff and l.amount >0 )'
      'left join items i on i.id_item = o.id_item'
      'left join items ii on ii.id_item = f.base_item'
      'left join personnel pr on p.id_constr = pr.id_p'
      'left join prod_areas a on a.id_p_area = f.id_pa_to'
      'left join equipments q on q.id_equipment = l.id_equipment'
      'where p.d_close is null')
    UpdateObject = UpD_OBJ
    Left = 576
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end>
    object qD_JOBDEC_NO: TIBStringField
      DisplayLabel = #1044#1077#1094#1080#1084#1072#1083#1100#1085#1099#1081' '#8470
      FieldName = 'DEC_NO'
      Origin = '"PRODUCT_OBJECTS"."DEC_NO"'
      Size = 32
    end
    object qD_JOBNMAT: TIBStringField
      DisplayLabel = #1052#1072#1090#1077#1088#1080#1072#1083
      FieldName = 'NMAT'
      Origin = '"ITEMS"."NAME"'
      Size = 128
    end
    object qD_JOBF_TM: TFloatField
      DisplayLabel = #1047#1072#1090#1088#1072#1095#1077#1085#1086' '#1074#1088#1077#1084#1077#1085#1080' '#1087#1086' '#1092#1072#1082#1090#1091' ('#1095#1095':'#1084#1084')'
      FieldName = 'F_TM'
      ProviderFlags = []
    end
    object qD_JOBID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_OPER"."ID_PROD_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qD_JOBID_ITEM: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1087#1088#1086#1076#1091#1082#1090#1072
      FieldName = 'ID_ITEM'
      Origin = '"PRODUCT_OBJECTS"."ID_ITEM"'
    end
    object qD_JOBID_PROJECT: TIntegerField
      FieldName = 'ID_PROJECT'
      Origin = '"PROJECT_ORDS"."ID_PROJECT"'
    end
    object qD_JOBN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"PROJECT_ORDS"."N_ORDER"'
      Size = 16
    end
    object qD_JOBID_ORDER: TIntegerField
      FieldName = 'ID_ORDER'
      Origin = '"PROJECT_ORDS"."ID_ORDER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qD_JOBNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1079#1072#1082#1072#1079#1072
      FieldName = 'NAME'
      Origin = '"PROJECT_ORDS"."NAME"'
      Size = 80
    end
    object qD_JOBID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OBJECTS"."ID_OBJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qD_JOBOBJ_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'OBJ_TYPE'
      Origin = '"PRODUCT_OBJECTS"."OBJ_TYPE"'
    end
    object qD_JOBID_VERSION: TIntegerField
      DisplayLabel = #1042#1077#1088#1089#1080#1103
      FieldName = 'ID_VERSION'
      Origin = '"PROJECT_ORDS"."ID_VERSION"'
    end
    object qD_JOBOBJ_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085'. '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'OBJ_NAME'
      Origin = '"PRODUCT_OBJECTS"."OBJ_NAME"'
      Size = 128
    end
    object qD_JOBAMOUNT_ORD: TIBBCDField
      DisplayLabel = #1058#1080#1088#1072#1078
      FieldName = 'AMOUNT_ORD'
      Origin = '"PRODUCT_OBJECTS"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qD_JOBNM: TIBStringField
      DisplayLabel = #1054#1073#1098#1077#1082#1090
      FieldName = 'NM'
      Origin = '"PRODUCT_OBJECTS"."OBJ_NAME"'
      ProviderFlags = []
      Size = 128
    end
    object qD_JOBID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_OPER"."ID_OPERATION"'
      Required = True
    end
    object qD_JOBONAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'ONAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qD_JOBAMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' - '#1087#1083#1072#1085
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_PLANS"."AMOUNT"'
    end
    object qD_JOBF_AMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1074#1099#1087#1086#1083#1085#1077#1085#1086#1075#1086
      FieldName = 'F_AMOUNT'
      Origin = '"PRODUCT_PLANS"."F_AMOUNT"'
    end
    object qD_JOBP_AMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1092#1072#1082#1090'.'
      FieldName = 'P_AMOUNT'
      Origin = '"PRODUCT_PLANS"."P_AMOUNT"'
    end
    object qD_JOBOST: TFloatField
      DisplayLabel = #1054#1089#1090#1072#1090#1086#1082
      FieldName = 'OST'
      ProviderFlags = []
    end
    object qD_JOBF_TIME: TFloatField
      DisplayLabel = #1047#1072#1090#1088#1072#1095#1077#1085#1086' '#1074#1088#1077#1084#1077#1085#1080' '#1087#1086' '#1092#1072#1082#1090#1091' ('#1095#1072#1089#1086#1074')'
      FieldName = 'F_TIME'
      Origin = '"PRODUCT_PLANS"."F_TIME"'
      DisplayFormat = '### ### ##0.00000'
    end
    object qD_JOBP_TIME: TFloatField
      DisplayLabel = #1060#1072#1082#1090'. '#1074#1088#1077#1084#1103' '#1074#1099#1087'-'#1085#1080#1103' '#1086#1087#1077#1088#1072#1094#1080#1080' '
      FieldName = 'P_TIME'
      Origin = '"PRODUCT_PLANS"."P_TIME"'
      DisplayFormat = '### ### ##0.00000'
    end
    object qD_JOBINAME: TIBStringField
      FieldName = 'INAME'
      Origin = '"ITEMS"."NAME"'
      Size = 128
    end
    object qD_JOBT_PERSONNEL: TFloatField
      DisplayLabel = #1053'-'#1095#1072#1089'/ '#1085#1072' '#1086#1076#1085#1091' '#1086#1087#1077#1088#1072#1094#1080#1102' '#1074' '#1095#1072#1089#1072#1093
      FieldName = 'T_PERSONNEL'
      ProviderFlags = []
      DisplayFormat = '##0.000'
    end
    object qD_JOBID_PROD_TRAFF: TIntegerField
      DisplayLabel = #1056#1077#1075'.'#8470' '#1090#1088#1072#1092#1080#1082#1072
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"PRODUCT_TRAFF"."ID_PROD_TRAFF"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qD_JOBID_AREA: TIntegerField
      FieldName = 'ID_AREA'
      Origin = '"PRODUCT_TRAFF"."ID_AREA"'
    end
    object qD_JOBSUM_PERS: TFloatField
      DisplayLabel = #1055#1083#1072#1085' ('#1085'-'#1095#1072#1089')'
      FieldName = 'SUM_PERS'
      ProviderFlags = []
      DisplayFormat = '##0.000'
    end
    object qD_JOBID_PROD_PLAN: TIntegerField
      DisplayLabel = #1056#1077#1075'. '#8470' '#1087#1083#1072#1085#1072
      FieldName = 'ID_PROD_PLAN'
      Origin = '"PRODUCT_PLANS"."ID_PROD_PLAN"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qD_JOBPOSIT: TIntegerField
      DisplayLabel = #8470' '#1087'/'#1087
      FieldName = 'POSIT'
      Origin = '"PRODUCT_PLANS"."POSIT"'
    end
    object qD_JOBCOMMENT: TIBStringField
      DisplayLabel = #1054#1087#1080#1089#1072#1085#1080#1077
      FieldName = 'COMMENT'
      Origin = '"PRODUCT_PLANS"."COMMENT"'
      Size = 32
    end
    object qD_JOBID_EQUIPMENT: TIntegerField
      FieldName = 'ID_EQUIPMENT'
      Origin = '"PRODUCT_PLANS"."ID_EQUIPMENT"'
    end
    object qD_JOBPL_NAME: TIBStringField
      DisplayLabel = #1054#1073#1086#1088#1091#1076#1086#1074#1072#1085#1080#1077
      FieldName = 'PL_NAME'
      Origin = '"EQUIPMENTS"."PL_NAME"'
      Size = 16
    end
    object qD_JOBFULL_AMOUNT: TFloatField
      DisplayLabel = #1053#1072' '#1090#1080#1088#1072#1078
      FieldName = 'FULL_AMOUNT'
      Origin = '"PRODUCT_TRAFF"."FULL_AMOUNT"'
      DisplayFormat = '### ### ### ##0.0'
    end
    object qD_JOBPRODUCED: TFloatField
      DisplayLabel = #1042#1099#1087#1086#1083#1085#1077#1085#1086
      FieldName = 'PRODUCED'
      Origin = '"PRODUCT_TRAFF"."PRODUCED"'
      DisplayFormat = '### ### ### ##0.0'
    end
    object qD_JOBOST_ORD: TFloatField
      DisplayLabel = #1054#1089#1090#1072#1083#1086#1089#1100' '#1074#1099#1087#1086#1083#1085#1080#1090#1100
      FieldName = 'OST_ORD'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.0'
    end
    object qD_JOBREM: TIBStringField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077' '#1082' '#1087#1083#1072#1085#1091
      FieldName = 'REM'
      ProviderFlags = []
      Size = 1024
    end
    object qD_JOBREM_OPER: TIBStringField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077' '#1082' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'REM_OPER'
      ProviderFlags = []
      Size = 1024
    end
    object qD_JOBSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
    object qD_JOBDESCRIPT: TIBStringField
      DisplayLabel = #1054#1087#1080#1089#1072#1085#1080#1077' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'DESCRIPT'
      Origin = '"PRODUCT_OPER"."DESCRIPT"'
      Size = 64
    end
    object qD_JOBFIO: TIBStringField
      DisplayLabel = #1050#1086#1085#1089#1090#1088#1091#1082#1090#1086#1088
      FieldName = 'FIO'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
    object qD_JOBID_SHIFT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1089#1084#1077#1085#1099
      FieldName = 'ID_SHIFT'
      Origin = '"PRODUCT_PLANS"."ID_SHIFT"'
    end
    object qD_JOBKOL_H: TFloatField
      DisplayLabel = #1053#1086#1088#1084#1072' - '#1082#1086#1083'-'#1074#1086' '#1096#1090'. '#1074' '#1095#1072#1089
      FieldName = 'KOL_H'
      ProviderFlags = []
      DisplayFormat = '### ### ##0.0'
    end
    object qD_JOBID_PA_TO: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1089#1082#1083#1072#1076#1072' '#1082#1091#1076#1072' '#1087#1077#1088#1077#1076#1072#1090#1100
      FieldName = 'ID_PA_TO'
      Origin = '"PRODUCT_TRAFF"."ID_PA_TO"'
    end
    object qD_JOBNAME_AREAIN: TIBStringField
      DisplayLabel = #1050#1091#1076#1072' '#1087#1077#1088#1077#1076#1072#1090#1100
      FieldName = 'NAME_AREAIN'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qD_JOBD_CLOSE: TDateTimeField
      DisplayLabel = #1047#1072#1082#1088#1099#1090
      FieldName = 'D_CLOSE'
      Origin = '"PROJECT_ORDS"."D_CLOSE"'
    end
    object qD_JOBID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"PRODUCT_TRAFF"."ID_BATCH"'
    end
    object qD_JOBCOST: TIBBCDField
      DisplayLabel = #1057#1090#1086#1080#1084#1086#1089#1090#1100' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'COST'
      Origin = '"OPERATIONS"."COST"'
      Precision = 18
      Size = 4
    end
    object qD_JOBTOTAL: TFloatField
      DisplayLabel = #1057#1091#1084#1084#1072' '#1087#1086' '#1087#1083#1072#1085#1091
      FieldName = 'TOTAL'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.00'
    end
    object qD_JOBAMOUNT_SUM_ALL: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' - '#1088#1072#1089#1087#1088#1077#1076#1077#1083#1077#1085#1086
      FieldKind = fkLookup
      FieldName = 'AMOUNT_SUM_ALL'
      LookupDataSet = qSum_P_All
      LookupKeyFields = 'ID_PROD_PLAN'
      LookupResultField = 'AMOUNT_SUM'
      KeyFields = 'ID_PROD_PLAN'
      Lookup = True
    end
    object qD_JOBPARENT_NAME: TIBStringField
      DisplayLabel = #1042#1093#1086#1076#1080#1090' '#1074
      FieldName = 'PARENT_NAME'
      ProviderFlags = []
      Size = 128
    end
    object qD_JOBEQ_NAME: TIBStringField
      DisplayLabel = #1054#1073#1086#1088#1091#1076#1086#1074#1072#1085#1080#1077
      FieldName = 'EQ_NAME'
      Origin = '"EQUIPMENTS"."SHOTNAME"'
      Size = 128
    end
  end
  object dsD_JOB: TDataSource
    DataSet = qD_JOB
    Left = 576
    Top = 368
  end
  object qTraf: TIBQuery
    Database = dbIS
    Transaction = mT
    DataSource = dsOBJ_OPER
    SQL.Strings = (
      'select F.*, A.NAME as ANAME, O.NAME as ONAME'
      'from ((PRODUCT_OPER P join PRODUCT_TRAFF F'
      'on F.ID_PROD_OPER = P.ID_PROD_OPER) join PROD_AREAS A'
      'on A.ID_P_AREA = F.ID_AREA) join OPERATIONS O'
      'on O.ID_AREA = F.ID_AREA '
      'and O.ID_OPERATION = F.ID_OPERATION'
      'where P.ID_PROD_OPER = :ID_PROD_OPER')
    Left = 528
    Top = 320
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'ID_PROD_OPER'
        ParamType = ptUnknown
      end>
    object qTrafID_PROD_TRAFF: TIntegerField
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"PRODUCT_TRAFF"."ID_PROD_TRAFF"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qTrafID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_TRAFF"."ID_PROD_OPER"'
    end
    object qTrafID_AREA: TIntegerField
      FieldName = 'ID_AREA'
      Origin = '"PRODUCT_TRAFF"."ID_AREA"'
    end
    object qTrafID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088'.'
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_TRAFF"."ID_OPERATION"'
    end
    object qTrafANAME: TIBStringField
      DisplayLabel = #1059#1095#1072#1089#1090#1086#1082
      FieldName = 'ANAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qTrafONAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'ONAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
  end
  object dsTraf: TDataSource
    DataSet = qTraf
    Left = 528
    Top = 368
  end
  object qTabPlan: TIBQuery
    Database = dbIS
    Transaction = mmT
    SQL.Strings = (
      'select EXTRACT(DAY FROM D_WORK) AS ID_DAY, T_WORK '
      'from TAB_PA_PLAN'
      'where ID_P = :p1 and ID_P_AREA = :pa1'
      'and D_WORK >= :d1 and D_WORK < :d2 + 1'
      'order by 1')
    Left = 480
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'p1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd2'
        ParamType = ptUnknown
      end>
    object qTabPlanID_DAY: TSmallintField
      FieldName = 'ID_DAY'
      ProviderFlags = []
    end
    object qTabPlanT_WORK: TFloatField
      FieldName = 'T_WORK'
      Origin = '"TAB_PA_PLAN"."T_WORK"'
    end
  end
  object mmT: TIBTransaction
    DefaultDatabase = dbIS
    Params.Strings = (
      'read_committed'
      'rec_version'
      'nowait')
    Left = 480
    Top = 368
  end
  object qIM: TIBQuery
    Database = dbIS
    Transaction = mmT
    Left = 424
    Top = 320
  end
  object qPA_WORK: TIBQuery
    Database = dbIS
    Transaction = mmT
    OnCalcFields = qPA_WORKCalcFields
    SQL.Strings = (
      'select EXTRACT( DAY FROM D_WORK)  AS ID_DAY,'
      'T_NECESSARY, T_WORK  '
      'from PA_WORK_TIME'
      'where ID_P_AREA = :ar1'
      'and D_WORK >= :d1 and D_WORK < :d2 + 1'
      'order by 1')
    Left = 424
    Top = 368
    ParamData = <
      item
        DataType = ftInteger
        Name = 'ar1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd2'
        ParamType = ptUnknown
      end>
    object qPA_WORKID_DAY: TSmallintField
      FieldName = 'ID_DAY'
      ProviderFlags = []
    end
    object qPA_WORKT_NECESSARY: TFloatField
      FieldName = 'T_NECESSARY'
      Origin = '"PA_WORK_TIME"."T_NECESSARY"'
      DisplayFormat = '########.0'
    end
    object qPA_WORKT_WORK: TFloatField
      FieldName = 'T_WORK'
      Origin = '"PA_WORK_TIME"."T_WORK"'
      DisplayFormat = '########.0'
    end
    object qPA_WORKpROC: TFloatField
      FieldKind = fkCalculated
      FieldName = 'pROC'
      Calculated = True
    end
  end
  object qPL_Proj: TIBQuery
    Database = dbIS
    Transaction = mmT
    SQL.Strings = (
      'select distinct j.n_order'
      
        'from (((product_plans p join product_traff t on p.id_prod_traf =' +
        ' t.id_prod_traff)'
      ' join product_oper d on d.id_prod_oper = t.id_prod_oper)'
      ' join product_objects b on b.id_object = d.id_object)'
      ' join project_ords j on j.id_order = b.id_order'
      
        ' where t.id_area = :id_area and p.d_out >= :d1 and p.d_out < :d2' +
        ' + 1'
      '  and p.amount is not null'
      ' order by j.n_order')
    Left = 368
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'id_area'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd2'
        ParamType = ptUnknown
      end>
    object qPL_ProjN_ORDER: TIBStringField
      FieldName = 'N_ORDER'
      Origin = '"PROJECTS"."N_ORDER"'
      Size = 16
    end
  end
  object qD_PL: TIBQuery
    Database = dbIS
    Transaction = mmT
    SQL.Strings = (
      ' select EXTRACT( DAY FROM p.d_out)  AS ID_DAY, '
      'sum(p.f_time) f_time,'
      'sum(p.amount*t.t_personnel) t_work'
      
        ' from (((product_plans p join product_traff t on p.id_prod_traf ' +
        '= t.id_prod_traff)'
      ' join product_oper d on d.id_prod_oper = t.id_prod_oper)'
      ' join product_objects b on b.id_object = d.id_object)'
      ' join project_ords j on j.id_order = b.id_order'
      ' where t.id_area = :id_area and j.n_order = :or1'
      
        'and p.d_out >= :d1 and p.d_out < :d2 + 1 and p.amount is not nul' +
        'l'
      ' group by 1')
    Left = 368
    Top = 368
    ParamData = <
      item
        DataType = ftInteger
        Name = 'id_area'
        ParamType = ptUnknown
      end
      item
        DataType = ftString
        Name = 'or1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd2'
        ParamType = ptUnknown
      end>
    object qD_PLID_DAY: TSmallintField
      FieldName = 'ID_DAY'
      ProviderFlags = []
    end
    object qD_PLT_WORK: TFloatField
      FieldName = 'T_WORK'
      ProviderFlags = []
    end
    object qD_PLF_TIME: TFloatField
      FieldName = 'F_TIME'
      ProviderFlags = []
    end
  end
  object qPlan_P: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterDelete = qPlan_PAfterDelete
    AfterScroll = qPlan_PAfterScroll
    BeforeDelete = qPlan_PBeforeDelete
    DataSource = dsD_JOB
    SQL.Strings = (
      'select P.* , e.shotname,P.AMOUNT*T.T_PERSONNEL as T_PERS,'
      'l.posit '
      'from (PRODUCT_PLANS_P P join PRODUCT_PLANS L'
      'on L.ID_PROD_PLAN = P.ID_PROD_PLAN) '
      'join PRODUCT_TRAFF T on T.ID_PROD_TRAFF = L.ID_PROD_TRAF'
      'left join equipments e on e.ID_EQUIPMENT = p.ID_EQUIPMENT'
      'where P.ID_PROD_PLAN = :ID_PROD_PLAN')
    Left = 320
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'ID_PROD_PLAN'
        ParamType = ptUnknown
        Size = 4
      end>
    object qPlan_PID_PROD_PLAN_P: TIntegerField
      FieldName = 'ID_PROD_PLAN_P'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN_P"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPlan_PID_PROD_PLAN: TIntegerField
      FieldName = 'ID_PROD_PLAN'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN"'
    end
    object qPlan_PID_P: TIntegerField
      DisplayLabel = #1058#1072#1073'. '#8470
      FieldName = 'ID_P'
      Origin = '"PRODUCT_PLANS_P"."ID_P"'
    end
    object qPlan_PID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"PRODUCT_PLANS_P"."ID_TEAM"'
    end
    object qPlan_PAMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1087#1086' '#1087#1083#1072#1085#1091
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."AMOUNT"'
      DisplayFormat = '### ### ### ##0.00'
    end
    object qPlan_PfIO: TStringField
      DisplayLabel = #1060'.'#1048'.'#1054'.'
      FieldKind = fkLookup
      FieldName = 'fIO'
      LookupDataSet = qPers
      LookupKeyFields = 'ID_P'
      LookupResultField = 'FIO'
      KeyFields = 'ID_P'
      Size = 60
      Lookup = True
    end
    object qPlan_PnTeam: TStringField
      DisplayLabel = #1041#1088#1080#1075#1072#1076#1072
      FieldKind = fkLookup
      FieldName = 'nTeam'
      LookupDataSet = qTeams
      LookupKeyFields = 'ID_TEAM'
      LookupResultField = 'NAME'
      KeyFields = 'ID_TEAM'
      Size = 60
      Lookup = True
    end
    object qPlan_PT_PERS: TFloatField
      DisplayLabel = #1055#1083#1072#1085' ('#1085'-'#1095#1072#1089')'
      FieldName = 'T_PERS'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.0'
    end
    object qPlan_PF_AMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1074#1099#1087#1086#1083#1085#1077#1085#1086#1075#1086
      FieldName = 'F_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."F_AMOUNT"'
      DisplayFormat = '##0.00'
    end
    object qPlan_PF_TIME: TFloatField
      DisplayLabel = #1047#1072#1090#1088#1072#1095#1077#1085#1086' '#1074#1088#1077#1084#1077#1085#1080' '#1087#1086' '#1092#1072#1082#1090#1091' ('#1095#1072#1089#1086#1074')'
      FieldName = 'F_TIME'
      Origin = '"PRODUCT_PLANS_P"."F_TIME"'
      DisplayFormat = '##0.00'
    end
    object qPlan_PID_EQUIPMENT: TIntegerField
      FieldName = 'ID_EQUIPMENT'
      Origin = '"PRODUCT_PLANS_P"."ID_EQUIPMENT"'
    end
    object qPlan_PP_AMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1092#1072#1082#1090'.'
      FieldName = 'P_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."P_AMOUNT"'
      DisplayFormat = '##0.00'
    end
    object qPlan_PP_TIME: TFloatField
      DisplayLabel = #1060#1072#1082'. '#1074#1088#1077#1084#1103' '#1074#1099#1087'-'#1085#1080#1103' '#1086#1087#1077#1088#1072#1094#1080#1080' '
      FieldName = 'P_TIME'
      Origin = '"PRODUCT_PLANS_P"."P_TIME"'
      DisplayFormat = '##0.00'
    end
    object qPlan_PREM: TBlobField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"PRODUCT_PLANS_P"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qPlan_PSHOTNAME: TIBStringField
      DisplayLabel = #1054#1073#1086#1088#1091#1076#1086#1074#1072#1085#1080#1077
      FieldName = 'SHOTNAME'
      Origin = '"EQUIPMENTS"."SHOTNAME"'
      Size = 64
    end
    object qPlan_PPOSIT: TIntegerField
      DisplayLabel = #8470' '#1087'/'#1087
      FieldName = 'POSIT'
      Origin = '"PRODUCT_PLANS"."POSIT"'
    end
    object qPlan_PID_PROD_PLAN_STOP: TIntegerField
      DisplayLabel = #1056#1077#1075'. '#8470' '#1074#1085#1077#1087#1083#1072#1085#1086#1099#1093' '#1088#1072#1073#1086#1090
      FieldName = 'ID_PROD_PLAN_STOP'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN_STOP"'
    end
  end
  object dsPlan_P: TDataSource
    DataSet = qPlan_P
    Left = 320
    Top = 368
  end
  object qLoad_P: TIBQuery
    Database = dbIS
    Transaction = mT
    BeforeDelete = qLoad_PBeforeDelete
    BeforeInsert = qLoad_PBeforeInsert
    BeforePost = qLoad_PBeforePost
    SQL.Strings = (
      'select g.*,p.p_amount,p.p_time'
      'from GET_PA_DAY_LOAD_P(:pa1,:d1,:k1) g'
      
        'left join product_planS_p P ON P.ID_P = g.id_p and p.id_prod_pla' +
        'n = :id_prod_plan')
    UpdateObject = UpLoad_P
    Left = 272
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftSmallint
        Name = 'k1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'id_prod_plan'
        ParamType = ptUnknown
      end>
    object qLoad_PID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"GET_PA_DAY_LOAD_P"."ID_TEAM"'
    end
    object qLoad_PID_P: TIntegerField
      DisplayLabel = #1058#1072#1073'. '#8470
      FieldName = 'ID_P'
      Origin = '"GET_PA_DAY_LOAD_P"."ID_P"'
    end
    object qLoad_PNAME: TIBStringField
      DisplayLabel = #1060'.'#1048'.'#1054
      FieldName = 'NAME'
      Origin = '"GET_PA_DAY_LOAD_P"."NAME"'
      Size = 64
    end
    object qLoad_PLOAD_TIME: TFloatField
      DisplayLabel = #1055#1083#1072#1085' ('#1085'-'#1095#1072#1089')'
      FieldName = 'LOAD_TIME'
      Origin = '"GET_PA_DAY_LOAD_P"."LOAD_TIME"'
      DisplayFormat = '##0.00'
    end
    object qLoad_PWORK_TIME: TFloatField
      DisplayLabel = #1056#1077#1089#1091#1088#1089' ('#1085'-'#1095#1072#1089')'
      FieldName = 'WORK_TIME'
      Origin = '"GET_PA_DAY_LOAD_P"."WORK_TIME"'
    end
    object qLoad_PID_POST: TIntegerField
      FieldName = 'ID_POST'
      Origin = '"GET_PA_DAY_LOAD_P"."ID_POST"'
    end
    object qLoad_PNAME_POST: TIBStringField
      DisplayLabel = #1044#1086#1083#1078#1085#1086#1089#1090#1100
      FieldName = 'NAME_POST'
      Origin = '"GET_PA_DAY_LOAD_P"."NAME_POST"'
      Size = 50
    end
    object qLoad_PP_AMOUNT: TFloatField
      DisplayLabel = #1042#1099#1087#1086#1083#1085#1077#1085#1086'|'#1050#1086#1083'-'#1074#1086
      FieldName = 'P_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."P_AMOUNT"'
    end
    object qLoad_PP_TIME: TFloatField
      DisplayLabel = #1042#1099#1087#1086#1083#1085#1077#1085#1086'|'#1042#1088#1077#1084#1103
      FieldName = 'P_TIME'
      Origin = '"PRODUCT_PLANS_P"."P_TIME"'
    end
  end
  object dsLoad_P: TDataSource
    DataSet = qLoad_P
    Left = 272
    Top = 368
  end
  object qSUM_P: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterOpen = qSUM_PAfterOpen
    DataSource = dsD_JOB
    SQL.Strings = (
      
        'select SUM(P.AMOUNT) as AMOUNT_SUM, SUM(P.AMOUNT*T.T_PERSONNEL) ' +
        'as A_SUM '
      'from (PRODUCT_PLANS_P P join PRODUCT_PLANS L'
      'on L.ID_PROD_PLAN = P.ID_PROD_PLAN) '
      'join PRODUCT_TRAFF T on T.ID_PROD_TRAFF = L.ID_PROD_TRAF'
      'where P.ID_PROD_PLAN = :ID_PROD_PLAN')
    Left = 224
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'ID_PROD_PLAN'
        ParamType = ptUnknown
        Size = 4
      end>
    object qSUM_PA_SUM: TFloatField
      FieldName = 'A_SUM'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.0'
    end
    object qSUM_PAMOUNT_SUM: TFloatField
      FieldName = 'AMOUNT_SUM'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.0'
    end
  end
  object dsSum_P: TDataSource
    DataSet = qSUM_P
    Left = 224
    Top = 368
  end
  object qZD_JOB: TIBQuery
    Database = dbIS
    Transaction = mT
    BeforeDelete = qZD_JOBBeforeDelete
    OnNewRecord = qZD_JOBNewRecord
    SQL.Strings = (
      'select * from GET_PA_DAY_WORK_P(:pa1,:d1,:k1)')
    Left = 168
    Top = 320
    ParamData = <
      item
        DataType = ftInteger
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftDate
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftInteger
        Name = 'k1'
        ParamType = ptUnknown
      end>
    object qZD_JOBID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"GET_PA_DAY_WORK_P"."ID_TEAM"'
    end
    object qZD_JOBID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"GET_PA_DAY_WORK_P"."ID_P"'
    end
    object qZD_JOBNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"GET_PA_DAY_WORK_P"."NAME"'
      Size = 32
    end
    object qZD_JOBID_ORDER: TIntegerField
      FieldName = 'ID_ORDER'
      Origin = '"GET_PA_DAY_WORK_P"."ID_ORDER"'
    end
    object qZD_JOBORD_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1058#1047
      FieldName = 'ORD_NAME'
      Origin = '"GET_PA_DAY_WORK_P"."ORD_NAME"'
      Size = 128
    end
    object qZD_JOBID_OBJECT: TIntegerField
      FieldName = 'ID_OBJECT'
      Origin = '"GET_PA_DAY_WORK_P"."ID_OBJECT"'
    end
    object qZD_JOBOBJ_NAME: TIBStringField
      DisplayLabel = #1054#1073#1098#1077#1082#1090
      FieldName = 'OBJ_NAME'
      Origin = '"GET_PA_DAY_WORK_P"."OBJ_NAME"'
      Size = 128
    end
    object qZD_JOBID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_PA_DAY_WORK_P"."ID_PROD_OPER"'
    end
    object qZD_JOBID_OPER: TIntegerField
      FieldName = 'ID_OPER'
      Origin = '"GET_PA_DAY_WORK_P"."ID_OPER"'
    end
    object qZD_JOBONAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'ONAME'
      Origin = '"GET_PA_DAY_WORK_P"."ONAME"'
      Size = 32
    end
    object qZD_JOBN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1058#1047
      FieldName = 'N_ORDER'
      Origin = '"GET_PA_DAY_WORK_P"."N_ORDER"'
      Size = 16
    end
    object qZD_JOBP_AMOUNT: TFloatField
      DisplayLabel = #1055#1083#1072#1085
      FieldName = 'P_AMOUNT'
      Origin = '"GET_PA_DAY_WORK_P"."P_AMOUNT"'
    end
    object qZD_JOBF_AMOUNT: TFloatField
      DisplayLabel = #1060#1072#1082#1090
      FieldName = 'F_AMOUNT'
      Origin = '"GET_PA_DAY_WORK_P"."F_AMOUNT"'
    end
    object qZD_JOBP_WORK_TIME: TFloatField
      DisplayLabel = #1055#1083#1072#1085' ('#1085'-'#1095#1072#1089')'
      FieldName = 'P_WORK_TIME'
      Origin = '"GET_PA_DAY_WORK_P"."P_WORK_TIME"'
    end
    object qZD_JOBF_TIME: TFloatField
      DisplayLabel = #1060#1072#1082#1090' ('#1095#1072#1089')'
      FieldName = 'F_TIME'
      Origin = '"GET_PA_DAY_WORK_P"."F_TIME"'
    end
    object qZD_JOBID_PROD_PLAN_P: TIntegerField
      FieldName = 'ID_PROD_PLAN_P'
      Origin = '"GET_PA_DAY_WORK_P"."ID_PROD_PLAN_P"'
    end
  end
  object dsZD_JOB: TDataSource
    DataSet = qZD_JOB
    Left = 168
    Top = 368
  end
  object upZD_JOB: TIBUpdateSQL
    RefreshSQL.Strings = (
      'select * from GET_PA_DAY_WORK_P(:pa1,:d1,:k1)')
    ModifySQL.Strings = (
      'update PRODUCT_PLANS_P'
      'set'
      '  F_AMOUNT = :F_AMOUNT,'
      '  F_TIME = :F_TIME'
      'where'
      '  ID_PROD_PLAN_P = :OLD_ID_PROD_PLAN_P')
    InsertSQL.Strings = (
      'insert into PRODUCT_PLANS_P'
      '  (F_AMOUNT, F_TIME)'
      'values'
      '  (:F_AMOUNT, :F_TIME)')
    DeleteSQL.Strings = (
      'update PRODUCT_PLANS_P'
      'set'
      '  F_AMOUNT = :F_AMOUNT,'
      '  F_TIME = :F_TIME'
      'where'
      '  ID_PROD_PLAN_P = :OLD_ID_PROD_PLAN_P')
    Left = 112
    Top = 320
  end
  object UpD_OBJ: TIBUpdateSQL
    RefreshSQL.Strings = (
      'select ii.name nmat,'
      'floor(l.f_time) + ((l.f_time - floor(l.f_time))*60)/100 as f_tm,'
      'r.id_prod_oper,'
      
        'p.id_project, p.n_order,p.id_order, p.name, o.id_object, o.obj_t' +
        'ype,p.id_version,'
      
        'o.obj_name, coalesce(o.obj_name,i.name) as nm,o.amount amount_or' +
        'd,'
      
        's.id_operation, s.name as oname, l.amount,l.f_amount,l.p_amount,' +
        'l.amount - l.f_amount as ost,l.f_time,l.p_time,'
      'i.name as iname, f.t_personnel,f.id_prod_traff,f.id_area,'
      'f.t_personnel*l.amount as sum_pers, l.id_prod_plan,l.posit,'
      'l.rem ,r.rem as rem_oper,r.step,r.descript,pr.fio,l.id_shift '
      
        'from (((((project_ords p join product_objects o on o.id_version ' +
        '= p.id_version)'
      'join product_oper r on r.id_object = o.id_object)'
      
        'join product_traff f on f.id_prod_oper = r.id_prod_oper and f.id' +
        '_area = :pa1)'
      
        'join operations s on s.id_area = f.id_area and s.id_operation = ' +
        'f.id_operation)'
      
        'join product_plans l on l.d_out = :d1 and  l.id_prod_traf = f.id' +
        '_prod_traff and l.amount >0 )'
      'left join items i on i.id_item = o.id_item'
      'left join items ii on ii.id_item = f.base_item'
      'left join personnel pr on p.id_constr = pr.id_p'
      'where p.d_close is null'
      'and l.id_prod_plan = :id_prod_plan')
    ModifySQL.Strings = (
      'UPDATE PRODUCT_PLANS'
      'SET'
      '    P_AMOUNT = :P_AMOUNT,'
      '    P_TIME = :P_TIME,'
      '    REM = :REM,'
      '    POSIT = :POSIT,'
      '    D_FIX = :D_FIX,'
      '    ID_FIX = ID_FIX,'
      '    ID_EQUIPMENT = :ID_EQUIPMENT'
      'WHERE ID_PROD_PLAN = :ID_PROD_PLAN'
      '')
    InsertSQL.Strings = (
      'INSERT INTO PRODUCT_PLANS(ID_PROD_PLAN)'
      'VALUES(:ID_PROD_PLAN)')
    DeleteSQL.Strings = (
      'delete from PRODUCT_PLANS'
      'WHERE f_amount is null'
      'ID_PROD_PLAN = :ID_PROD_PLAN')
    Left = 576
    Top = 424
  end
  object qPlans_P: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select P.* ,e.shotname, P.AMOUNT*T.T_PERSONNEL T_PERS,l.posit'
      'from (PRODUCT_PLANS_P P join PRODUCT_PLANS L'
      'on L.ID_PROD_PLAN = P.ID_PROD_PLAN)'
      'join PRODUCT_TRAFF T on T.ID_PROD_TRAFF = L.ID_PROD_TRAF'
      'left join equipments e on e.ID_EQUIPMENT = p.ID_EQUIPMENT'
      'where P.ID_PROD_PLAN = :ID_PROD_PLAN')
    Left = 632
    Top = 416
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_prod_plan'
        ParamType = ptUnknown
      end>
    object qPlans_PID_PROD_PLAN_P: TIntegerField
      DisplayLabel = #1056#1077#1075'.'#8470' '#1079#1072#1087#1080#1089#1080
      FieldName = 'ID_PROD_PLAN_P'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN_P"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPlans_PID_PROD_PLAN: TIntegerField
      DisplayLabel = #1056#1077#1075'.'#8470' '#1087#1083#1072#1085#1072
      FieldName = 'ID_PROD_PLAN'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN"'
    end
    object qPlans_PID_P: TIntegerField
      DisplayLabel = #1054#1073#1098#1077#1082#1090
      FieldName = 'ID_P'
      Origin = '"PRODUCT_PLANS_P"."ID_P"'
    end
    object qPlans_PID_TEAM: TIntegerField
      DisplayLabel = #1058#1080#1087
      FieldName = 'ID_TEAM'
      Origin = '"PRODUCT_PLANS_P"."ID_TEAM"'
    end
    object qPlans_PAMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."AMOUNT"'
    end
    object qPlans_PF_AMOUNT: TFloatField
      DisplayLabel = #1060#1072#1082#1090'. '#1074#1099#1087#1086#1083#1085#1077#1085#1086
      FieldName = 'F_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."F_AMOUNT"'
    end
    object qPlans_PF_TIME: TFloatField
      DisplayLabel = #1060#1072#1082#1090'. '#1074#1088#1077#1084#1103
      FieldName = 'F_TIME'
      Origin = '"PRODUCT_PLANS_P"."F_TIME"'
    end
    object qPlans_PID_EQUIPMENT: TIntegerField
      FieldName = 'ID_EQUIPMENT'
      Origin = '"PRODUCT_PLANS_P"."ID_EQUIPMENT"'
    end
    object qPlans_PP_AMOUNT: TFloatField
      FieldName = 'P_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."P_AMOUNT"'
    end
    object qPlans_PP_TIME: TFloatField
      FieldName = 'P_TIME'
      Origin = '"PRODUCT_PLANS_P"."P_TIME"'
    end
    object qPlans_PREM: TBlobField
      FieldName = 'REM'
      Origin = '"PRODUCT_PLANS_P"."REM"'
      ProviderFlags = [pfInUpdate]
      Size = 8
    end
    object qPlans_PSHOTNAME: TIBStringField
      FieldName = 'SHOTNAME'
      Origin = '"EQUIPMENTS"."SHOTNAME"'
      Size = 64
    end
    object qPlans_PT_PERS: TFloatField
      FieldName = 'T_PERS'
      ProviderFlags = []
    end
    object qPlans_PPOSIT: TIntegerField
      FieldName = 'POSIT'
      Origin = '"PRODUCT_PLANS"."POSIT"'
    end
  end
  object dsPlans_P: TDataSource
    DataSet = qPlans_P
    Left = 632
    Top = 464
  end
  object UpPlan_P: TIBUpdateSQL
    RefreshSQL.Strings = (
      'select P.* , e.shotname,P.AMOUNT*T.T_PERSONNEL as T_PERS '
      'from (PRODUCT_PLANS_P P join PRODUCT_PLANS L'
      'on L.ID_PROD_PLAN = P.ID_PROD_PLAN) '
      'join PRODUCT_TRAFF T on T.ID_PROD_TRAFF = L.ID_PROD_TRAF'
      'left join equipments e on e.ID_EQUIPMENT = p.ID_EQUIPMENT'
      'where P.ID_PROD_PLAN_P = :ID_PROD_PLAN_P'
      '')
    ModifySQL.Strings = (
      'UPDATE PRODUCT_PLANS_P'
      'SET'
      '    ID_EQUIPMENT = :ID_EQUIPMENT,'
      '    P_AMOUNT = :P_AMOUNT,'
      '    P_TIME = :P_TIME,'
      '    REM = :REM'
      'WHERE ID_PROD_PLAN_P = :ID_PROD_PLAN_P'
      '')
    DeleteSQL.Strings = (
      'DELETE FROM PRODUCT_PLANS_P'
      'WHERE f_amount is null'
      'ID_PROD_PLAN_P = :ID_PROD_PLAN_P')
    Left = 320
    Top = 432
  end
  object qEqp: TIBQuery
    Database = dbIS
    Transaction = mT
    BeforeOpen = qEqpBeforeOpen
    SQL.Strings = (
      'select e.*,i.name'
      'from equipments e left join items i on e.id_item = i.id_item'
      'where e.id_area = :id_area')
    Left = 272
    Top = 448
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_area'
        ParamType = ptUnknown
      end>
    object qEqpID_EQUIPMENT: TIntegerField
      DisplayLabel = #1056#1077#1075'. '#8470
      FieldName = 'ID_EQUIPMENT'
      Origin = '"EQUIPMENTS"."ID_EQUIPMENT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qEqpSHOTNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1087#1088#1086#1080#1079#1074#1086#1076#1089#1090#1074#1077#1085#1085#1086#1077
      DisplayWidth = 128
      FieldName = 'SHOTNAME'
      Origin = '"EQUIPMENTS"."SHOTNAME"'
      Size = 128
    end
    object qEqpNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1089#1087#1088#1072#1074#1086#1095#1085#1086#1077
      FieldName = 'NAME'
      Origin = '"ITEMS"."NAME"'
      Size = 128
    end
    object qEqpID_AREA: TIntegerField
      DisplayLabel = #1056#1077#1075'. '#8470' '#1087#1086#1076#1088#1072#1079#1076#1077#1083#1077#1085#1080#1103
      FieldName = 'ID_AREA'
      Origin = '"EQUIPMENTS"."ID_AREA"'
    end
    object qEqpINV_NUMBER: TIBStringField
      DisplayLabel = #1048#1085#1074'. '#8470
      FieldName = 'INV_NUMBER'
      Origin = '"EQUIPMENTS"."INV_NUMBER"'
      Size = 32
    end
    object qEqpREG_NUMBER: TIBStringField
      FieldName = 'REG_NUMBER'
      Origin = '"EQUIPMENTS"."REG_NUMBER"'
      Size = 64
    end
    object qEqpPROD_NUMBER: TIBStringField
      FieldName = 'PROD_NUMBER'
      Origin = '"EQUIPMENTS"."PROD_NUMBER"'
      Size = 64
    end
    object qEqpD_PROD: TDateField
      FieldName = 'D_PROD'
      Origin = '"EQUIPMENTS"."D_PROD"'
    end
    object qEqpD_IN: TDateField
      FieldName = 'D_IN'
      Origin = '"EQUIPMENTS"."D_IN"'
    end
    object qEqpD_OUT: TDateField
      FieldName = 'D_OUT'
      Origin = '"EQUIPMENTS"."D_OUT"'
    end
    object qEqpPRICE: TFloatField
      FieldName = 'PRICE'
      Origin = '"EQUIPMENTS"."PRICE"'
    end
    object qEqpID_CURRENCY: TIntegerField
      FieldName = 'ID_CURRENCY'
      Origin = '"EQUIPMENTS"."ID_CURRENCY"'
    end
    object qEqpID_BILL: TIntegerField
      FieldName = 'ID_BILL'
      Origin = '"EQUIPMENTS"."ID_BILL"'
    end
    object qEqpID_ITEM: TIntegerField
      FieldName = 'ID_ITEM'
      Origin = '"EQUIPMENTS"."ID_ITEM"'
    end
    object qEqpID_PARENT: TIntegerField
      FieldName = 'ID_PARENT'
      Origin = '"EQUIPMENTS"."ID_PARENT"'
    end
    object qEqpPOSIT: TIntegerField
      FieldName = 'POSIT'
      Origin = '"EQUIPMENTS"."POSIT"'
    end
    object qEqpPL_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' - '#1089#1086#1082#1088#1072#1097#1105#1085#1085#1086#1077
      FieldName = 'PL_NAME'
      Origin = '"EQUIPMENTS"."PL_NAME"'
      Size = 16
    end
  end
  object dsEqp: TDataSource
    DataSet = qEqp
    Left = 280
    Top = 488
  end
  object qShifts: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select id_shift, name, time_begin, time_work'
      'from shifts order by name')
    Left = 368
    Top = 416
    object qShiftsID_SHIFT: TIntegerField
      FieldName = 'ID_SHIFT'
      Origin = '"SHIFTS"."ID_SHIFT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qShiftsNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"SHIFTS"."NAME"'
      Size = 64
    end
    object qShiftsTIME_BEGIN: TTimeField
      FieldName = 'TIME_BEGIN'
      Origin = '"SHIFTS"."TIME_BEGIN"'
    end
    object qShiftsTIME_WORK: TTimeField
      FieldName = 'TIME_WORK'
      Origin = '"SHIFTS"."TIME_WORK"'
    end
  end
  object dsShifts: TDataSource
    DataSet = qShifts
    Left = 368
    Top = 464
  end
  object qPlan_P_Fio: TIBQuery
    Database = dbIS
    Transaction = mT
    BeforeDelete = qPlan_P_FioBeforeDelete
    SQL.Strings = (
      
        'select l.posit, ob.dec_no, s.name oname,coalesce(ob.obj_name,i.n' +
        'ame) nm,ob.id_object,'
      'pr.id_version, pr.name name_ord,pr.n_order,'
      
        'coalesce(P1.FIO,'#39#1056#1077#1079#1077#1088#1074#39') fio, coalesce(P1.IDPOST,-1) idpost, co' +
        'alesce(T1.NAME,'#39#1056#1077#1079#1077#1088#1074#39') name_dol, e.shotname,op.step,'
      
        'p.id_prod_plan_p, p.id_prod_plan, p.id_p, p.id_team, p.amount, p' +
        '.f_amount, p.f_time,'
      'p.id_equipment, p.p_amount, p.p_time, p.rem'
      ''
      'from (PRODUCT_PLANS_P P join PRODUCT_PLANS L on'
      'l.d_out = :d1 and l.amount >0 and l.id_shift = :id_shift and'
      'p.id_p = :id_p and L.ID_PROD_PLAN = P.ID_PROD_PLAN)'
      'left join equipments e on e.ID_EQUIPMENT = p.ID_EQUIPMENT'
      'left join PERSONNEL p1 on p1.id_p = p.id_p'
      'left join POST t1 on T1.IDPOST = P1.IDPOST'
      
        'join PRODUCT_TRAFF T on T.id_prod_traff = L.id_prod_traf and t.i' +
        'd_area = :pa1'
      
        'join operations s on s.id_area = t.id_area and s.id_operation = ' +
        't.id_operation'
      'join product_oper op on op.id_prod_oper = t.id_prod_oper'
      'join product_objects ob on ob.id_object = op.id_object'
      'left join items i on i.id_item = ob.id_item'
      'join project_ords pr on pr.id_version = op.id_version'
      'order by P1.FIO,l.posit, 4, s.name'
      '')
    UpdateObject = UpPlan_P_Fio
    Left = 424
    Top = 416
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'id_shift'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'id_p'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qPlan_P_FioPOSIT: TIntegerField
      DisplayLabel = #8470' '#1087'/'#1087
      FieldName = 'POSIT'
      Origin = '"PRODUCT_PLANS"."POSIT"'
    end
    object qPlan_P_FioDEC_NO: TIBStringField
      DisplayLabel = #1044#1077#1094#1080#1084#1072#1083#1100#1085#1099#1081' '#8470
      FieldName = 'DEC_NO'
      Origin = '"PRODUCT_OBJECTS"."DEC_NO"'
      Size = 32
    end
    object qPlan_P_FioONAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'ONAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qPlan_P_FioNM: TIBStringField
      DisplayLabel = #1054#1073#1098#1077#1082#1090
      FieldName = 'NM'
      ProviderFlags = []
      Size = 128
    end
    object qPlan_P_FioID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OBJECTS"."ID_OBJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPlan_P_FioID_VERSION: TIntegerField
      DisplayLabel = #1042#1077#1088#1089#1080#1103
      FieldName = 'ID_VERSION'
      Origin = '"PROJECT_ORDS"."ID_VERSION"'
    end
    object qPlan_P_FioNAME_ORD: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1079#1072#1082#1072#1079#1072
      FieldName = 'NAME_ORD'
      Origin = '"PROJECT_ORDS"."NAME"'
      Size = 64
    end
    object qPlan_P_FioN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"PROJECT_ORDS"."N_ORDER"'
      Size = 16
    end
    object qPlan_P_FioFIO: TIBStringField
      DisplayLabel = #1060#1048#1054
      FieldName = 'FIO'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
    object qPlan_P_FioIDPOST: TIntegerField
      FieldName = 'IDPOST'
      Origin = '"PERSONNEL"."IDPOST"'
    end
    object qPlan_P_FioNAME_DOL: TIBStringField
      DisplayLabel = #1044#1086#1083#1078#1085#1086#1089#1090#1100
      FieldName = 'NAME_DOL'
      Origin = '"POST"."NAME"'
      Size = 50
    end
    object qPlan_P_FioSHOTNAME: TIBStringField
      DisplayLabel = #1054#1073#1086#1088#1091#1076#1086#1074#1072#1085#1080#1077
      FieldName = 'SHOTNAME'
      Origin = '"EQUIPMENTS"."SHOTNAME"'
      Size = 64
    end
    object qPlan_P_FioID_PROD_PLAN_P: TIntegerField
      FieldName = 'ID_PROD_PLAN_P'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN_P"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPlan_P_FioID_PROD_PLAN: TIntegerField
      FieldName = 'ID_PROD_PLAN'
      Origin = '"PRODUCT_PLANS_P"."ID_PROD_PLAN"'
    end
    object qPlan_P_FioID_P: TIntegerField
      DisplayLabel = #1058#1072#1073'. '#8470
      FieldName = 'ID_P'
      Origin = '"PRODUCT_PLANS_P"."ID_P"'
    end
    object qPlan_P_FioID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"PRODUCT_PLANS_P"."ID_TEAM"'
    end
    object qPlan_P_FioAMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1087#1083#1072#1085
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."AMOUNT"'
      DisplayFormat = '##0.00'
    end
    object qPlan_P_FioF_AMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1074#1099#1087#1086#1083#1085#1077#1085#1086#1075#1086
      FieldName = 'F_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."F_AMOUNT"'
      DisplayFormat = '##0.00'
    end
    object qPlan_P_FioF_TIME: TFloatField
      DisplayLabel = #1047#1072#1090#1088#1072#1095#1077#1085#1086' '#1074#1088#1077#1084#1077#1085#1080' '#1087#1086' '#1092#1072#1082#1090#1091' ('#1095#1072#1089#1086#1074')'
      FieldName = 'F_TIME'
      Origin = '"PRODUCT_PLANS_P"."F_TIME"'
      DisplayFormat = '##0.00'
    end
    object qPlan_P_FioID_EQUIPMENT: TIntegerField
      FieldName = 'ID_EQUIPMENT'
      Origin = '"PRODUCT_PLANS_P"."ID_EQUIPMENT"'
    end
    object qPlan_P_FioP_AMOUNT: TFloatField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1092#1072#1082#1090'.'
      FieldName = 'P_AMOUNT'
      Origin = '"PRODUCT_PLANS_P"."P_AMOUNT"'
      DisplayFormat = '##0.00'
    end
    object qPlan_P_FioP_TIME: TFloatField
      DisplayLabel = #1060#1072#1082'. '#1074#1088#1077#1084#1103' '#1074#1099#1087'-'#1085#1080#1103' '#1086#1087#1077#1088#1072#1094#1080#1080' '
      FieldName = 'P_TIME'
      Origin = '"PRODUCT_PLANS_P"."P_TIME"'
      DisplayFormat = '##0.00'
    end
    object qPlan_P_FioREM: TBlobField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"PRODUCT_PLANS_P"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qPlan_P_FioSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
  end
  object dsPlan_P_Fio: TDataSource
    DataSet = qPlan_P_Fio
    Left = 424
    Top = 464
  end
  object UpPlan_P_Fio: TIBUpdateSQL
    ModifySQL.Strings = (
      'UPDATE PRODUCT_PLANS_P'
      'SET'
      '    ID_EQUIPMENT = :ID_EQUIPMENT,'
      '    P_AMOUNT = :P_AMOUNT,'
      '    P_TIME = :P_TIME,'
      '    REM = :REM'
      'WHERE ID_PROD_PLAN_P = :ID_PROD_PLAN_P'
      '')
    DeleteSQL.Strings = (
      'DELETE FROM PRODUCT_PLANS_P'
      'WHERE ID_PROD_PLAN_P = :ID_PROD_PLAN_P')
    Left = 480
    Top = 440
  end
  object qR_Boby_Sh: TIBQuery
    Database = dbDOC
    Transaction = dT
    SQL.Strings = (
      'select ID_DOC, FILENAME, BODY from WORKDOCS'
      'where ID_DOC = :d1')
    Left = 80
    Top = 488
    ParamData = <
      item
        DataType = ftInteger
        Name = 'd1'
        ParamType = ptUnknown
      end>
    object qR_Boby_ShID_DOC: TIntegerField
      FieldName = 'ID_DOC'
      Origin = '"WORKDOCS"."ID_DOC"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qR_Boby_ShFILENAME: TIBStringField
      FieldName = 'FILENAME'
      Origin = '"WORKDOCS"."FILENAME"'
      Size = 128
    end
    object qR_Boby_ShBODY: TBlobField
      FieldName = 'BODY'
      Origin = '"WORKDOCS"."BODY"'
      ProviderFlags = [pfInUpdate]
      Size = 8
    end
  end
  object qSum_P_All: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select p.id_prod_plan,'
      
        'SUM(P.AMOUNT) as AMOUNT_SUM, SUM(P.AMOUNT*T.T_PERSONNEL) as A_SU' +
        'M '
      'from (PRODUCT_PLANS_P P join PRODUCT_PLANS L'
      'on L.ID_PROD_PLAN = P.ID_PROD_PLAN) '
      'join PRODUCT_TRAFF T on T.ID_PROD_TRAFF = L.ID_PROD_TRAF'
      
        'where t.id_area = :id_area and l.d_out = :d_out and l.id_shift =' +
        ' :ID_SHIFT'
      'group by p.id_prod_plan')
    Left = 224
    Top = 416
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_area'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'd_out'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'ID_SHIFT'
        ParamType = ptUnknown
      end>
    object qSum_P_AllID_PROD_PLAN: TIntegerField
      FieldName = 'ID_PROD_PLAN'
      ProviderFlags = []
    end
    object qSum_P_AllAMOUNT_SUM: TFloatField
      FieldName = 'AMOUNT_SUM'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.0'
    end
    object qSum_P_AllA_SUM: TFloatField
      FieldName = 'A_SUM'
      ProviderFlags = []
      DisplayFormat = '### ### ### ##0.0'
    end
  end
  object dsSum_P_All: TDataSource
    DataSet = qSum_P_All
    Left = 224
    Top = 472
  end
  object UpLoad_P: TIBUpdateSQL
    RefreshSQL.Strings = (
      'select *'
      'from GET_PA_DAY_LOAD_P(:pa1,:d1,:k1)')
    ModifySQL.Strings = (
      'update product_plans_p'
      'set '
      '    id_p = :id_p'
      'where (id_p = 0)')
    Left = 272
    Top = 408
  end
  object qP_WORK: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      ' select EXTRACT( DAY FROM p.d_out)  AS ID_DAY,'
      ' sum(p.f_time) f_time,'
      ' sum(p.amount*t.t_personnel) as t_work'
      
        ' from (((product_plans p join product_traff t on p.id_prod_traf ' +
        '= t.id_prod_traff)'
      ' join product_oper d on d.id_prod_oper = t.id_prod_oper)'
      ' join product_objects b on b.id_object = d.id_object)'
      ' join project_ords j on j.id_order = b.id_order'
      ' where t.id_area = :id_area '
      
        'and p.d_out >= :d1 and p.d_out < :d2 + 1 and p.amount is not nul' +
        'l'
      ' group by 1')
    Left = 528
    Top = 424
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_area'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'd1'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'd2'
        ParamType = ptUnknown
      end>
    object qP_WORKID_DAY: TSmallintField
      FieldName = 'ID_DAY'
      ProviderFlags = []
    end
    object qP_WORKF_TIME: TFloatField
      FieldName = 'F_TIME'
      ProviderFlags = []
    end
    object qP_WORKT_WORK: TFloatField
      FieldName = 'T_WORK'
      ProviderFlags = []
    end
  end
  object dsP_WORK: TDataSource
    DataSet = qP_WORK
    Left = 528
    Top = 472
  end
  object qHolid: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select HDAY from HOLID'
      'where HDAY = :d1')
    Left = 720
    Top = 216
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'd1'
        ParamType = ptUnknown
      end>
    object qHolidHDAY: TDateField
      FieldName = 'HDAY'
      Origin = '"HOLID"."HDAY"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
  end
  object qBState_P_Det: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      
        'select * from GET_PA_STATE_PARENT(:pa1,:id_parent,:id_is,:is_cen' +
        'a)'
      'order by ID_OBJECT, ID_PROD_OPER, ID_BATCH')
    Left = 728
    Top = 112
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'pa1'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'id_parent'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'id_is'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'is_cena'
        ParamType = ptUnknown
      end>
    object qBState_P_DetID_PA_STATE: TIntegerField
      FieldName = 'ID_PA_STATE'
      Origin = '"GET_PA_STATE_PARENT"."ID_PA_STATE"'
    end
    object qBState_P_DetID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1052#1062
      FieldName = 'ID_OBJECT'
      Origin = '"GET_PA_STATE_PARENT"."ID_OBJECT"'
    end
    object qBState_P_DetNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'NAME'
      Origin = '"GET_PA_STATE_PARENT"."NAME"'
      Size = 128
    end
    object qBState_P_DetUNIT1: TIBStringField
      DisplayLabel = #1045#1076'.'#1080#1079#1084'. ('#1091')'
      FieldName = 'UNIT1'
      Origin = '"GET_PA_STATE_PARENT"."UNIT1"'
      Size = 16
    end
    object qBState_P_DetUNIT2: TIBStringField
      FieldName = 'UNIT2'
      Origin = '"GET_PA_STATE_PARENT"."UNIT2"'
      Size = 16
    end
    object qBState_P_DetID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_PA_STATE_PARENT"."ID_BATCH"'
    end
    object qBState_P_DetID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      Origin = '"GET_PA_STATE_PARENT"."ID_STEP"'
    end
    object qBState_P_DetID_PROD_OPER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_PA_STATE_PARENT"."ID_PROD_OPER"'
    end
    object qBState_P_DetID_OBJECT_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT_TYPE'
      Origin = '"GET_PA_STATE_PARENT"."ID_OBJECT_TYPE"'
    end
    object qBState_P_DetID_PA_BILL: TIntegerField
      FieldName = 'ID_PA_BILL'
      Origin = '"GET_PA_STATE_PARENT"."ID_PA_BILL"'
    end
    object qBState_P_DetFACTOR: TFloatField
      FieldName = 'FACTOR'
      Origin = '"GET_PA_STATE_PARENT"."FACTOR"'
    end
    object qBState_P_DetAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' '#1085#1072' '#1089#1082#1083#1072#1076#1077' ('#1091')'
      FieldName = 'AMOUNT'
      Origin = '"GET_PA_STATE_PARENT"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetAMOUNT_SUM: TIBBCDField
      FieldName = 'AMOUNT_SUM'
      Origin = '"GET_PA_STATE_PARENT"."AMOUNT_SUM"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetAMOUNT2: TIBBCDField
      FieldName = 'AMOUNT2'
      Origin = '"GET_PA_STATE_PARENT"."AMOUNT2"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetSUM_R: TIBBCDField
      DisplayLabel = #1047#1072#1103#1074#1083#1077#1085#1086' ('#1091')'
      FieldName = 'SUM_R'
      Origin = '"GET_PA_STATE_PARENT"."SUM_R"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetOST: TIBBCDField
      DisplayLabel = #1057#1074#1086#1073#1086#1076#1085#1086' ('#1091')'
      FieldName = 'OST'
      Origin = '"GET_PA_STATE_PARENT"."OST"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetOST_SUM: TIBBCDField
      FieldName = 'OST_SUM'
      Origin = '"GET_PA_STATE_PARENT"."OST_SUM"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetSUM_R2: TIBBCDField
      FieldName = 'SUM_R2'
      Origin = '"GET_PA_STATE_PARENT"."SUM_R2"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetOST2: TIBBCDField
      FieldName = 'OST2'
      Origin = '"GET_PA_STATE_PARENT"."OST2"'
      Precision = 18
      Size = 4
    end
    object qBState_P_DetCENA: TFloatField
      FieldName = 'CENA'
      Origin = '"GET_PA_STATE_PARENT"."CENA"'
    end
    object qBState_P_DetCENA2: TFloatField
      FieldName = 'CENA2'
      Origin = '"GET_PA_STATE_PARENT"."CENA2"'
    end
    object qBState_P_DetSUMMA: TFloatField
      FieldName = 'SUMMA'
      Origin = '"GET_PA_STATE_PARENT"."SUMMA"'
    end
    object qBState_P_DetNDS: TFloatField
      FieldName = 'NDS'
      Origin = '"GET_PA_STATE_PARENT"."NDS"'
    end
    object qBState_P_DetSUMMA_NDS: TFloatField
      FieldName = 'SUMMA_NDS'
      Origin = '"GET_PA_STATE_PARENT"."SUMMA_NDS"'
    end
    object qBState_P_DetID_ITEM: TIntegerField
      FieldName = 'ID_ITEM'
      Origin = '"GET_PA_STATE_PARENT"."ID_ITEM"'
    end
    object qBState_P_DetID_PROJECT: TIntegerField
      FieldName = 'ID_PROJECT'
      Origin = '"GET_PA_STATE_PARENT"."ID_PROJECT"'
    end
    object qBState_P_DetID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1079#1072#1082#1072#1079#1072
      FieldName = 'ID_ORDER'
      Origin = '"GET_PA_STATE_PARENT"."ID_ORDER"'
    end
    object qBState_P_DetN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"GET_PA_STATE_PARENT"."N_ORDER"'
      Size = 16
    end
    object qBState_P_DetPR_NAME: TIBStringField
      DisplayLabel = #1041#1088#1077#1085#1076
      FieldName = 'PR_NAME'
      Origin = '"GET_PA_STATE_PARENT"."PR_NAME"'
      Size = 80
    end
    object qBState_P_DetN_ID_AREA: TIBStringField
      DisplayLabel = #1043#1076#1077' '#1080#1079#1075#1086#1090#1086#1074#1080#1083#1080
      FieldName = 'N_ID_AREA'
      Origin = '"GET_PA_STATE_PARENT"."N_ID_AREA"'
      Size = 80
    end
    object qBState_P_DetN_ID_OPERATION: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103' - '#1090#1077#1082#1091#1097#1077#1077' '#1089#1086#1089#1090#1086#1103#1085#1080#1077
      FieldName = 'N_ID_OPERATION'
      Origin = '"GET_PA_STATE_PARENT"."N_ID_OPERATION"'
      Size = 30
    end
    object qBState_P_DetN_ID_CURRENCY: TIBStringField
      FieldName = 'N_ID_CURRENCY'
      Origin = '"GET_PA_STATE_PARENT"."N_ID_CURRENCY"'
      Size = 4
    end
    object qBState_P_DetID_PARENT1: TIntegerField
      FieldName = 'ID_PARENT1'
      Origin = '"GET_PA_STATE_PARENT"."ID_PARENT1"'
    end
    object qBState_P_DetN_ID_PARENT: TIBStringField
      DisplayLabel = #1050#1091#1076#1072' '#1087#1077#1088#1077#1076#1072#1090#1100
      FieldName = 'N_ID_PARENT'
      Origin = '"GET_PA_STATE_PARENT"."N_ID_PARENT"'
      Size = 128
    end
    object qBState_P_DetN_ID_PA_TO: TIBStringField
      DisplayLabel = #1050#1091#1076#1072' '#1087#1077#1088#1077#1076#1072#1090#1100
      FieldName = 'N_ID_PA_TO'
      Origin = '"GET_PA_STATE_PARENT"."N_ID_PA_TO"'
      Size = 80
    end
    object qBState_P_DetN_ID_PA_FROM: TIBStringField
      DisplayLabel = #1054#1090#1082#1091#1076#1072' '#1087#1088#1080#1096#1083#1086
      FieldName = 'N_ID_PA_FROM'
      Origin = '"GET_PA_STATE_PARENT"."N_ID_PA_FROM"'
      Size = 80
    end
    object qBState_P_DetID_PA_TO: TIntegerField
      FieldName = 'ID_PA_TO'
      Origin = '"GET_PA_STATE_PARENT"."ID_PA_TO"'
    end
    object qBState_P_DetID_PA_FROM: TIntegerField
      FieldName = 'ID_PA_FROM'
      Origin = '"GET_PA_STATE_PARENT"."ID_PA_FROM"'
    end
    object qBState_P_DetID_PROD_TRAFF: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1090#1088#1072#1092#1080#1082#1072
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"GET_PA_STATE_PARENT"."ID_PROD_TRAFF"'
    end
    object qBState_P_DetLIMIT: TFloatField
      FieldName = 'LIMIT'
      Origin = '"GET_PA_STATE_PARENT"."LIMIT"'
    end
  end
  object dsBState_P_Det: TDataSource
    DataSet = qBState_P_Det
    Left = 728
    Top = 160
  end
  object qBill_s: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from GET_BILL_POS(:cpa)')
    Left = 720
    Top = 8
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'cpa'
        ParamType = ptUnknown
      end>
    object qBill_sID_PROD_TRAFF: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1090#1088#1072#1092#1080#1082#1072
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"GET_BILL_POS"."ID_PROD_TRAFF"'
    end
    object qBill_sID_PA_BILL_POS: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1087#1086#1079#1080#1094#1080#1080
      FieldName = 'ID_PA_BILL_POS'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_POS"'
    end
    object qBill_sID_PA_BILL_: TIntegerField
      FieldName = 'ID_PA_BILL_'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_"'
    end
    object qBill_sID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT'
      Origin = '"GET_BILL_POS"."ID_OBJECT"'
    end
    object qBill_sNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'NAME'
      Origin = '"GET_BILL_POS"."NAME"'
      Size = 128
    end
    object qBill_sUNIT1: TIBStringField
      DisplayLabel = #1045#1076'. '#1080#1079#1084'.('#1091')'
      FieldName = 'UNIT1'
      Origin = '"GET_BILL_POS"."UNIT1"'
      Size = 16
    end
    object qBill_sUNIT2: TIBStringField
      FieldName = 'UNIT2'
      Origin = '"GET_BILL_POS"."UNIT2"'
      Size = 16
    end
    object qBill_sID_UNIT: TIntegerField
      FieldName = 'ID_UNIT'
      Origin = '"GET_BILL_POS"."ID_UNIT"'
    end
    object qBill_sID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_BILL_POS"."ID_BATCH"'
    end
    object qBill_sID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_BILL_POS"."ID_PROD_OPER"'
    end
    object qBill_sNAME_O: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME_O'
      Origin = '"GET_BILL_POS"."NAME_O"'
      Size = 30
    end
    object qBill_sID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      Origin = '"GET_BILL_POS"."ID_STEP"'
    end
    object qBill_sFACTOR: TIBBCDField
      FieldName = 'FACTOR'
      Origin = '"GET_BILL_POS"."FACTOR"'
      Precision = 18
      Size = 4
    end
    object qBill_sAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1091')'
      FieldName = 'AMOUNT'
      Origin = '"GET_BILL_POS"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qBill_sAMOUNT2: TIBBCDField
      FieldName = 'AMOUNT2'
      Origin = '"GET_BILL_POS"."AMOUNT2"'
      Precision = 18
      Size = 4
    end
    object qBill_sOBJ_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'OBJ_TYPE'
      Origin = '"GET_BILL_POS"."OBJ_TYPE"'
    end
    object qBill_sID_ITEM: TIntegerField
      FieldName = 'ID_ITEM'
      Origin = '"GET_BILL_POS"."ID_ITEM"'
    end
    object qBill_sID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1079#1072#1082#1072#1079#1072
      FieldName = 'ID_ORDER'
      Origin = '"GET_BILL_POS"."ID_ORDER"'
    end
    object qBill_sN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"GET_BILL_POS"."N_ORDER"'
      Size = 16
    end
    object qBill_sOLD_PROD_OPER: TIntegerField
      FieldName = 'OLD_PROD_OPER'
      Origin = '"GET_BILL_POS"."OLD_PROD_OPER"'
    end
    object qBill_sORD_NAME: TIBStringField
      DisplayLabel = #1041#1088#1077#1085#1076
      FieldName = 'ORD_NAME'
      Origin = '"GET_BILL_POS"."ORD_NAME"'
      Size = 80
    end
    object qBill_sID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"GET_BILL_POS"."ID_P"'
    end
    object qBill_sID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"GET_BILL_POS"."ID_TEAM"'
    end
    object qBill_sSUMMA: TIBBCDField
      DisplayLabel = #1057#1091#1084#1084#1072
      FieldName = 'SUMMA'
      Origin = '"GET_BILL_POS"."SUMMA"'
      Precision = 18
      Size = 4
    end
    object qBill_sSUMMA_EXP: TIBBCDField
      FieldName = 'SUMMA_EXP'
      Origin = '"GET_BILL_POS"."SUMMA_EXP"'
      Precision = 18
      Size = 4
    end
    object qBill_sCENA: TIBBCDField
      DisplayLabel = #1062#1077#1085#1072' ('#1091')'
      FieldName = 'CENA'
      Origin = '"GET_BILL_POS"."CENA"'
      Precision = 18
      Size = 4
    end
    object qBill_sCENA1: TIBBCDField
      FieldName = 'CENA1'
      Origin = '"GET_BILL_POS"."CENA1"'
      Precision = 18
      Size = 4
    end
    object qBill_sID_SUBOPER: TIntegerField
      FieldName = 'ID_SUBOPER'
      Origin = '"GET_BILL_POS"."ID_SUBOPER"'
    end
    object qBill_sID_C: TIntegerField
      FieldName = 'ID_C'
      Origin = '"GET_BILL_POS"."ID_C"'
    end
    object qBill_sLID: TIntegerField
      FieldName = 'LID'
      Origin = '"GET_BILL_POS"."LID"'
    end
    object qBill_sREM: TMemoField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"GET_BILL_POS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qBill_sAMOUNT_ORD: TIntegerField
      FieldName = 'AMOUNT_ORD'
      Origin = '"GET_BILL_POS"."AMOUNT_ORD"'
    end
    object qBill_sQCD: TIntegerField
      FieldName = 'QCD'
      Origin = '"GET_BILL_POS"."QCD"'
    end
    object qBill_sNDS: TFloatField
      DisplayLabel = #1053#1044#1057
      FieldName = 'NDS'
      Origin = '"GET_BILL_POS"."NDS"'
    end
    object qBill_sSUMMA_NDS: TFloatField
      DisplayLabel = #1057#1091#1084#1084#1072' '#1053#1044#1057
      FieldName = 'SUMMA_NDS'
      Origin = '"GET_BILL_POS"."SUMMA_NDS"'
    end
  end
  object qIState: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select *'
      'from GET_PA_STATE(:pa1)')
    Left = 720
    Top = 56
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'pa1'
        ParamType = ptUnknown
      end>
    object qIStateID_PA_STATE: TIntegerField
      FieldName = 'ID_PA_STATE'
      Origin = '"GET_PA_STATE"."ID_PA_STATE"'
    end
    object qIStateID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT'
      Origin = '"GET_PA_STATE"."ID_OBJECT"'
    end
    object qIStateNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077
      FieldName = 'NAME'
      Origin = '"GET_PA_STATE"."NAME"'
      Size = 128
    end
    object qIStateUNIT1: TIBStringField
      DisplayLabel = #1045#1076'.'#1080#1079#1084'. ('#1091')'
      FieldName = 'UNIT1'
      Origin = '"GET_PA_STATE"."UNIT1"'
      Size = 16
    end
    object qIStateUNIT2: TIBStringField
      DisplayLabel = #1045#1076'. '#1080#1079#1084'. ('#1087')'
      FieldName = 'UNIT2'
      Origin = '"GET_PA_STATE"."UNIT2"'
      Size = 16
    end
    object qIStateID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_PA_STATE"."ID_BATCH"'
    end
    object qIStateID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_PA_STATE"."ID_PROD_OPER"'
    end
    object qIStateID_STEP: TIntegerField
      FieldName = 'ID_STEP'
      Origin = '"GET_PA_STATE"."ID_STEP"'
    end
    object qIStateID_OBJECT_TYPE: TIntegerField
      FieldName = 'ID_OBJECT_TYPE'
      Origin = '"GET_PA_STATE"."ID_OBJECT_TYPE"'
    end
    object qIStateID_PA_BILL: TIntegerField
      FieldName = 'ID_PA_BILL'
      Origin = '"GET_PA_STATE"."ID_PA_BILL"'
    end
    object qIStateFACTOR: TFloatField
      DisplayLabel = #1050#1086#1101#1092'.'
      FieldName = 'FACTOR'
      Origin = '"GET_PA_STATE"."FACTOR"'
    end
    object qIStateAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1091')'
      FieldName = 'AMOUNT'
      Origin = '"GET_PA_STATE"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qIStateAMOUNT_P: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1087')'
      FieldName = 'AMOUNT_P'
      Origin = '"GET_PA_STATE"."AMOUNT_P"'
      Precision = 18
      Size = 4
    end
    object qIStateID_ITEM: TIntegerField
      FieldName = 'ID_ITEM'
      Origin = '"GET_PA_STATE"."ID_ITEM"'
    end
    object qIStateID_ORDER: TIntegerField
      FieldName = 'ID_ORDER'
      Origin = '"GET_PA_STATE"."ID_ORDER"'
    end
    object qIStateN_ORDER: TIBStringField
      FieldName = 'N_ORDER'
      Origin = '"GET_PA_STATE"."N_ORDER"'
      Size = 16
    end
    object qIStateORD_NAME: TIBStringField
      FieldName = 'ORD_NAME'
      Origin = '"GET_PA_STATE"."ORD_NAME"'
      Size = 80
    end
    object qIStateID_PROD_TRAFF: TIntegerField
      DisplayLabel = #1058#1088#1072#1092#1080#1082
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"GET_PA_STATE"."ID_PROD_TRAFF"'
    end
    object qIStateNDS: TFloatField
      DisplayLabel = #1053#1044#1057
      FieldName = 'NDS'
      Origin = '"GET_PA_STATE"."NDS"'
    end
    object qIStateSUM_R: TIBBCDField
      DisplayLabel = #1047#1072#1103#1074#1083#1077#1085#1086' ('#1091')'
      FieldName = 'SUM_R'
      Origin = '"GET_PA_STATE"."SUM_R"'
      Precision = 18
      Size = 4
    end
    object qIStateOST: TIBBCDField
      DisplayLabel = #1057#1074#1086#1073#1086#1076#1085#1086' ('#1091')'
      FieldName = 'OST'
      Origin = '"GET_PA_STATE"."OST"'
      Precision = 18
      Size = 4
    end
    object qIStateCENA: TFloatField
      DisplayLabel = #1062#1077#1085#1072' ('#1091')'
      FieldName = 'CENA'
      Origin = '"GET_PA_STATE"."CENA"'
      DisplayFormat = '### ### ##0.00'
    end
    object qIStateSUM_R2: TIBBCDField
      DisplayLabel = #1047#1072#1103#1074#1083#1077#1085#1086' ('#1087')'
      FieldName = 'SUM_R2'
      Origin = '"GET_PA_STATE"."SUM_R2"'
      Precision = 18
      Size = 4
    end
    object qIStateOST2: TIBBCDField
      DisplayLabel = #1057#1074#1086#1073#1086#1076#1085#1086' ('#1087')'
      FieldName = 'OST2'
      Origin = '"GET_PA_STATE"."OST2"'
      Precision = 18
      Size = 4
    end
    object qIStateCENA2: TFloatField
      DisplayLabel = #1062#1077#1085#1072' ('#1087')'
      FieldName = 'CENA2'
      Origin = '"GET_PA_STATE"."CENA2"'
      DisplayFormat = '### ### ##0.00'
    end
  end
  object dsIState: TDataSource
    DataSet = qIState
    Left = 752
    Top = 56
  end
  object qValN: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from VALNAKL(:ID_P_AREA,:ID_PA_BILL)')
    Left = 56
    Top = 368
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'ID_P_AREA'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'ID_PA_BILL'
        ParamType = ptUnknown
      end>
    object qValNID_OBJECT: TIntegerField
      FieldName = 'ID_OBJECT'
      Origin = '"VALNAKL"."ID_OBJECT"'
    end
    object qValNNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"VALNAKL"."NAME"'
      Size = 128
    end
    object qValNID_BATCH: TIntegerField
      FieldName = 'ID_BATCH'
      Origin = '"VALNAKL"."ID_BATCH"'
    end
    object qValNSK: TFloatField
      FieldName = 'SK'
      Origin = '"VALNAKL"."SK"'
    end
    object qValNOST: TFloatField
      FieldName = 'OST'
      Origin = '"VALNAKL"."OST"'
    end
  end
  object qPA_Oper: TIBQuery
    Database = dbIS
    Transaction = mT
    OnCalcFields = qPA_OperCalcFields
    SQL.Strings = (
      'select o.n_order, o.id_order, b.id_object, o.name as ordname,'
      'coalesce(b.obj_name,o.name) as obj_name, p.step, f.id_operation,'
      
        'r.name as oname, f.id_prod_oper, f.id_prod_traff, b.amount, f.pr' +
        'oduced,'
      'f.is_unit, f.full_amount, f.prod_amount, f.t_personnel, f.waste,'
      'i.name nmat, b.dec_no, a.name toname, f.id_batch'
      ''
      ',(select first 1 obj.obj_name'
      'from br_up_objects_l(b.id_object,0) br'
      'join product_objects obj on obj.id_object = br.id'
      'where obj.obj_name is not null'
      'order by br.id_level desc) parent_name'
      ''
      
        'from ((((project_ords o join product_objects b on b.id_version =' +
        ' o.id_version)'
      'join product_oper p on p.id_object = b.id_object) '
      'join product_traff f on  f.id_batch = o.id_batch'
      'and f.id_prod_oper = p.id_prod_oper and f.id_area = :id_area)'
      'left join operations r on r.id_operation = f.id_operation)'
      'left join items i on i.id_item = f.base_item'
      'left join prod_areas a on a.id_p_area = f.id_pa_to'
      'and a.id_p_area <> :id_area'
      'where o.d_close is null'
      
        'and (select a1.is_outsource from prod_areas a1 where a1.id_p_are' +
        'a = o.id_cprod) <> 1'
      'order by o.n_order, b.id_object, p.step')
    Left = 728
    Top = 272
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_area'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'id_area'
        ParamType = ptUnknown
      end>
    object qPA_OperN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"PROJECT_ORDS"."N_ORDER"'
      Size = 16
    end
    object qPA_OperID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1079#1072#1082#1072#1079#1072
      FieldName = 'ID_ORDER'
      Origin = '"PROJECT_ORDS"."ID_ORDER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPA_OperID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT'
      Origin = '"PRODUCT_OBJECTS"."ID_OBJECT"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPA_OperORDNAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1079#1072#1082#1072#1079#1072
      FieldName = 'ORDNAME'
      Origin = '"PROJECT_ORDS"."NAME"'
      Size = 64
    end
    object qPA_OperOBJ_NAME: TIBStringField
      DisplayLabel = #1054#1073#1098#1077#1082#1090
      FieldName = 'OBJ_NAME'
      ProviderFlags = []
      Size = 128
    end
    object qPA_OperSTEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'STEP'
      Origin = '"PRODUCT_OPER"."STEP"'
    end
    object qPA_OperID_OPERATION: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1087#1077#1088#1072#1094#1080#1080
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_TRAFF"."ID_OPERATION"'
    end
    object qPA_OperONAME: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'ONAME'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
    object qPA_OperID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_TRAFF"."ID_PROD_OPER"'
    end
    object qPA_OperID_PROD_TRAFF: TIntegerField
      DisplayLabel = #1058#1088#1072#1092#1080#1082
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"PRODUCT_TRAFF"."ID_PROD_TRAFF"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qPA_OperAMOUNT: TIBBCDField
      DisplayLabel = #1042' '#1089#1073#1086#1088#1082#1077
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_OBJECTS"."AMOUNT"'
      Precision = 18
      Size = 4
    end
    object qPA_OperPRODUCED: TFloatField
      DisplayLabel = #1057#1076#1077#1083#1072#1085#1086
      FieldName = 'PRODUCED'
      Origin = '"PRODUCT_TRAFF"."PRODUCED"'
    end
    object qPA_OperIS_UNIT: TIntegerField
      DisplayLabel = #1057#1073#1086#1088#1082#1072
      FieldName = 'IS_UNIT'
      Origin = '"PRODUCT_TRAFF"."IS_UNIT"'
    end
    object qPA_OperFULL_AMOUNT: TFloatField
      DisplayLabel = #1053#1072' '#1090#1080#1088#1072#1078
      FieldName = 'FULL_AMOUNT'
      Origin = '"PRODUCT_TRAFF"."FULL_AMOUNT"'
    end
    object qPA_OperPROD_AMOUNT: TFloatField
      DisplayLabel = #1053#1072' '#1080#1079#1076#1077#1083#1077#1080#1077
      FieldName = 'PROD_AMOUNT'
      Origin = '"PRODUCT_TRAFF"."PROD_AMOUNT"'
    end
    object qPA_OperT_PERSONNEL: TFloatField
      DisplayLabel = 'T/'#1086#1087'.'
      FieldName = 'T_PERSONNEL'
      Origin = '"PRODUCT_TRAFF"."T_PERSONNEL"'
      DisplayFormat = '#0.0000'
    end
    object qPA_OperWASTE: TFloatField
      DisplayLabel = #1041#1088#1072#1082
      FieldName = 'WASTE'
      Origin = '"PRODUCT_TRAFF"."WASTE"'
    end
    object qPA_OperNMAT: TIBStringField
      DisplayLabel = #1054#1089#1085#1086#1074#1085#1086#1081' '#1084#1072#1090#1077#1088#1080#1072#1083
      FieldName = 'NMAT'
      Origin = '"ITEMS"."NAME"'
      Size = 128
    end
    object qPA_OperDEC_NO: TIBStringField
      DisplayLabel = #1044#1077#1089'. '#8470
      FieldName = 'DEC_NO'
      Origin = '"PRODUCT_OBJECTS"."DEC_NO"'
      Size = 32
    end
    object qPA_OperTONAME: TIBStringField
      DisplayLabel = #1050#1091#1076#1072' '#1087#1077#1088#1077#1076#1072#1090#1100
      FieldName = 'TONAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qPA_OperrEST: TFloatField
      DisplayLabel = #1054#1089#1090#1072#1083#1086#1089#1100
      FieldKind = fkCalculated
      FieldName = 'rEST'
      Calculated = True
    end
    object qPA_OperpRoc: TFloatField
      DisplayLabel = '% '#1074#1099#1087#1086#1083#1085#1077#1085#1080#1103
      FieldKind = fkCalculated
      FieldName = 'pRoc'
      DisplayFormat = '#0.0'
      Calculated = True
    end
    object qPA_OperID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"PRODUCT_TRAFF"."ID_BATCH"'
    end
    object qPA_OperPARENT_NAME: TIBStringField
      DisplayLabel = #1042#1093#1086#1076#1080#1090' '#1074
      FieldName = 'PARENT_NAME'
      ProviderFlags = []
      Size = 128
    end
  end
  object dsPA_Oper: TDataSource
    DataSet = qPA_Oper
    Left = 728
    Top = 320
  end
  object mTW: TIBTransaction
    DefaultDatabase = dbIS
    Params.Strings = (
      'read_committed'
      'rec_version'
      'nowait')
    Left = 8
    Top = 48
  end
  object qDutyType: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from DUTYTYPES'
      'order by name')
    Left = 696
    Top = 416
    object qDutyTypeID_DUTYTYPE: TIntegerField
      FieldName = 'ID_DUTYTYPE'
      Origin = '"PLANTYPES"."ID_DUTYTYPE"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qDutyTypeNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"PLANTYPES"."NAME"'
      Size = 32
    end
  end
  object dsDutyType: TDataSource
    DataSet = qDutyType
    Left = 696
    Top = 464
  end
  object qSub_Oper: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      ' select s.id_sub_oper, s.id_prod_oper, s.pos, s.id_operation,'
      ' s.price, s.amount, s.amount_time, s.rem,o.name name_oper'
      
        ' from product_subopers s join operations o on o.id_operation = s' +
        '.id_operation'
      ' where s.id_prod_oper = :id_prod_oper')
    Left = 328
    Top = 112
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_prod_oper'
        ParamType = ptUnknown
      end>
    object qSub_OperID_SUB_OPER: TIntegerField
      FieldName = 'ID_SUB_OPER'
      Origin = '"PRODUCT_SUBOPERS"."ID_SUB_OPER"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qSub_OperID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"PRODUCT_SUBOPERS"."ID_PROD_OPER"'
    end
    object qSub_OperPOS: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'POS'
      Origin = '"PRODUCT_SUBOPERS"."POS"'
    end
    object qSub_OperID_OPERATION: TIntegerField
      FieldName = 'ID_OPERATION'
      Origin = '"PRODUCT_SUBOPERS"."ID_OPERATION"'
    end
    object qSub_OperPRICE: TFloatField
      FieldName = 'PRICE'
      Origin = '"PRODUCT_SUBOPERS"."PRICE"'
    end
    object qSub_OperAMOUNT: TFloatField
      FieldName = 'AMOUNT'
      Origin = '"PRODUCT_SUBOPERS"."AMOUNT"'
    end
    object qSub_OperAMOUNT_TIME: TFloatField
      FieldName = 'AMOUNT_TIME'
      Origin = '"PRODUCT_SUBOPERS"."AMOUNT_TIME"'
    end
    object qSub_OperREM: TBlobField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"PRODUCT_SUBOPERS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qSub_OperNAME_OPER: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME_OPER'
      Origin = '"OPERATIONS"."NAME"'
      Size = 30
    end
  end
  object dsSub_Oper: TDataSource
    DataSet = qSub_Oper
    Left = 328
    Top = 168
  end
  object qInsW: TIBQuery
    Database = dbIS
    Transaction = mTW
    Left = 8
    Top = 96
  end
  object qBill_ss: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterPost = qBill_ssAfterPost
    OnNewRecord = qBill_ssNewRecord
    SQL.Strings = (
      'select * from GET_BILL_POS(:cpa)')
    UpdateObject = UpBill_ss
    GeneratorField.Field = 'ID_PA_BILL_POS'
    GeneratorField.Generator = 'OBJ_ID'
    Left = 328
    Top = 512
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'cpa'
        ParamType = ptUnknown
      end>
    object qBill_ssID_PROD_TRAFF: TIntegerField
      DisplayLabel = #1058#1088#1072#1092#1080#1082
      FieldName = 'ID_PROD_TRAFF'
      Origin = '"GET_BILL_POS"."ID_PROD_TRAFF"'
    end
    object qBill_ssID_PA_BILL_POS: TIntegerField
      DisplayLabel = #1056#1077#1075'. '#8470' '#1079#1072#1087#1080#1089#1080
      FieldName = 'ID_PA_BILL_POS'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_POS"'
    end
    object qBill_ssID_PA_BILL_: TIntegerField
      FieldName = 'ID_PA_BILL_'
      Origin = '"GET_BILL_POS"."ID_PA_BILL_"'
    end
    object qBill_ssID_OBJECT: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'ID_OBJECT'
      Origin = '"GET_BILL_POS"."ID_OBJECT"'
    end
    object qBill_ssNAME: TIBStringField
      DisplayLabel = #1052#1072#1090#1077#1088#1080#1072#1083
      FieldName = 'NAME'
      Origin = '"GET_BILL_POS"."NAME"'
      Size = 128
    end
    object qBill_ssUNIT1: TIBStringField
      DisplayLabel = #1045#1076'. '#1080#1079#1084'. ('#1091')'
      FieldName = 'UNIT1'
      Origin = '"GET_BILL_POS"."UNIT1"'
      Size = 16
    end
    object qBill_ssUNIT2: TIBStringField
      DisplayLabel = #1045#1076'. '#1080#1079#1084'. ('#1087')'
      FieldName = 'UNIT2'
      Origin = '"GET_BILL_POS"."UNIT2"'
      Size = 16
    end
    object qBill_ssID_UNIT: TIntegerField
      FieldName = 'ID_UNIT'
      Origin = '"GET_BILL_POS"."ID_UNIT"'
    end
    object qBill_ssID_BATCH: TIntegerField
      DisplayLabel = #1055#1072#1088#1090#1080#1103
      FieldName = 'ID_BATCH'
      Origin = '"GET_BILL_POS"."ID_BATCH"'
    end
    object qBill_ssID_PROD_OPER: TIntegerField
      FieldName = 'ID_PROD_OPER'
      Origin = '"GET_BILL_POS"."ID_PROD_OPER"'
    end
    object qBill_ssNAME_O: TIBStringField
      DisplayLabel = #1054#1087#1077#1088#1072#1094#1080#1103
      FieldName = 'NAME_O'
      Origin = '"GET_BILL_POS"."NAME_O"'
      Size = 30
    end
    object qBill_ssID_STEP: TIntegerField
      DisplayLabel = #1064#1072#1075
      FieldName = 'ID_STEP'
      Origin = '"GET_BILL_POS"."ID_STEP"'
    end
    object qBill_ssFACTOR: TIBBCDField
      DisplayLabel = #1050#1086#1101#1092'.'
      FieldName = 'FACTOR'
      Origin = '"GET_BILL_POS"."FACTOR"'
      Precision = 18
      Size = 4
    end
    object qBill_ssAMOUNT: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1091')'
      FieldName = 'AMOUNT'
      Origin = '"GET_BILL_POS"."AMOUNT"'
      OnChange = qBill_ssAMOUNTChange
      Precision = 18
      Size = 4
    end
    object qBill_ssAMOUNT2: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1087')'
      FieldName = 'AMOUNT2'
      Origin = '"GET_BILL_POS"."AMOUNT2"'
      Precision = 18
      Size = 4
    end
    object qBill_ssOBJ_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087' '#1086#1073#1098#1077#1082#1090#1072
      FieldName = 'OBJ_TYPE'
      Origin = '"GET_BILL_POS"."OBJ_TYPE"'
    end
    object qBill_ssID_ITEM: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1058#1052#1062' '#1087#1086' '#1090#1088#1072#1092#1080#1082#1091
      FieldName = 'ID_ITEM'
      Origin = '"GET_BILL_POS"."ID_ITEM"'
    end
    object qBill_ssID_ORDER: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1079#1072#1082#1072#1079#1072
      FieldName = 'ID_ORDER'
      Origin = '"GET_BILL_POS"."ID_ORDER"'
    end
    object qBill_ssN_ORDER: TIBStringField
      DisplayLabel = #8470' '#1079#1072#1082#1072#1079#1072
      FieldName = 'N_ORDER'
      Origin = '"GET_BILL_POS"."N_ORDER"'
      Size = 16
    end
    object qBill_ssOLD_PROD_OPER: TIntegerField
      FieldName = 'OLD_PROD_OPER'
      Origin = '"GET_BILL_POS"."OLD_PROD_OPER"'
    end
    object qBill_ssORD_NAME: TIBStringField
      DisplayLabel = #1053#1072#1080#1084#1077#1085#1086#1074#1072#1085#1080#1077' '#1079#1072#1082#1072#1079#1072
      FieldName = 'ORD_NAME'
      Origin = '"GET_BILL_POS"."ORD_NAME"'
      Size = 80
    end
    object qBill_ssID_P: TIntegerField
      FieldName = 'ID_P'
      Origin = '"GET_BILL_POS"."ID_P"'
    end
    object qBill_ssFIO: TIBStringField
      FieldName = 'FIO'
      Origin = '"GET_BILL_POS"."FIO"'
      Size = 60
    end
    object qBill_ssID_TEAM: TIntegerField
      FieldName = 'ID_TEAM'
      Origin = '"GET_BILL_POS"."ID_TEAM"'
    end
    object qBill_ssNTEAM: TIBStringField
      FieldName = 'NTEAM'
      Origin = '"GET_BILL_POS"."NTEAM"'
      Size = 40
    end
    object qBill_ssSUMMA: TIBBCDField
      DisplayLabel = #1057#1091#1084#1084#1072
      FieldName = 'SUMMA'
      Origin = '"GET_BILL_POS"."SUMMA"'
      Precision = 18
      Size = 4
    end
    object qBill_ssSUMMA_EXP: TIBBCDField
      FieldName = 'SUMMA_EXP'
      Origin = '"GET_BILL_POS"."SUMMA_EXP"'
      Precision = 18
      Size = 4
    end
    object qBill_ssCENA: TIBBCDField
      DisplayLabel = #1062#1077#1085#1072' ('#1091')'
      FieldName = 'CENA'
      Origin = '"GET_BILL_POS"."CENA"'
      Precision = 18
      Size = 4
    end
    object qBill_ssCENA1: TIBBCDField
      DisplayLabel = #1062#1077#1085#1072' ('#1087')'
      FieldName = 'CENA1'
      Origin = '"GET_BILL_POS"."CENA1"'
      Precision = 18
      Size = 4
    end
    object qBill_ssID_SUBOPER: TIntegerField
      FieldName = 'ID_SUBOPER'
      Origin = '"GET_BILL_POS"."ID_SUBOPER"'
    end
    object qBill_ssID_C: TIntegerField
      FieldName = 'ID_C'
      Origin = '"GET_BILL_POS"."ID_C"'
    end
    object qBill_ssLID: TIntegerField
      DisplayLabel = #1056#1077#1075'.'#8470' '#1087#1086#1079#1080#1094#1080#1080' (70 '#1085#1072#1082#1083#1072#1076#1085#1086#1081')'
      FieldName = 'LID'
      Origin = '"GET_BILL_POS"."LID"'
    end
    object qBill_ssREM: TMemoField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"GET_BILL_POS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qBill_ssAMOUNT_ORD: TIntegerField
      FieldName = 'AMOUNT_ORD'
      Origin = '"GET_BILL_POS"."AMOUNT_ORD"'
    end
    object qBill_ssQCD: TIntegerField
      FieldName = 'QCD'
      Origin = '"GET_BILL_POS"."QCD"'
    end
    object qBill_ssNDS: TFloatField
      DisplayLabel = #1053#1044#1057
      FieldName = 'NDS'
      Origin = '"GET_BILL_POS"."NDS"'
    end
    object qBill_ssSUMMA_NDS: TFloatField
      DisplayLabel = #1057#1091#1084#1084#1072' '#1053#1044#1057
      FieldName = 'SUMMA_NDS'
      Origin = '"GET_BILL_POS"."SUMMA_NDS"'
    end
    object qBill_ssPA_BILL_TYPE: TIntegerField
      DisplayLabel = #1058#1080#1087' '#1085#1072#1082#1083#1072#1076#1085#1086#1081
      FieldName = 'PA_BILL_TYPE'
      Origin = '"GET_BILL_POS"."PA_BILL_TYPE"'
    end
    object qBill_ssNAME_TRAFF_MAT: TIBStringField
      DisplayLabel = #1058#1052#1062' '#1087#1086' '#1090#1088#1072#1092#1080#1082#1091
      FieldName = 'NAME_TRAFF_MAT'
      Origin = '"GET_BILL_POS"."NAME_TRAFF_MAT"'
      Size = 128
    end
    object qBill_ssNAME_DETAL: TIBStringField
      DisplayLabel = #1054#1087#1080#1089#1072#1085#1080#1077
      FieldName = 'NAME_DETAL'
      Origin = '"GET_BILL_POS"."NAME_DETAL"'
      Size = 1024
    end
    object qBill_ssAMOUNT_W: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1091') '#1090'/'#1086
      FieldName = 'AMOUNT_W'
      Origin = '"GET_BILL_POS"."AMOUNT_W"'
      Precision = 18
      Size = 4
    end
    object qBill_ssAMOUNT2_W: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1087') '#1090'/'#1086
      FieldName = 'AMOUNT2_W'
      Origin = '"GET_BILL_POS"."AMOUNT2_W"'
      Precision = 18
      Size = 4
    end
    object qBill_ssAM: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1091') '#1073#1077#1079' '#1090'/'#1086
      FieldName = 'AM'
      Precision = 18
      Size = 4
    end
    object qBill_ssAM2: TIBBCDField
      DisplayLabel = #1050#1086#1083'-'#1074#1086' ('#1087') '#1073#1077#1079' '#1090'/'#1086
      FieldName = 'AM2'
      Origin = '"GET_BILL_POS"."AM2"'
      Precision = 18
      Size = 4
    end
  end
  object dsBill_ss: TDataSource
    DataSet = qBill_ss
    Left = 328
    Top = 544
  end
  object qBill: TIBQuery
    Database = dbIS
    Transaction = mT
    AfterScroll = qBillAfterScroll
    SQL.Strings = (
      
        'select a.name, p.id_pa_bill, p.id_p_area, p.pa_bill_type,p.d_bil' +
        'l,'
      'p.number, p.d_edit, p.id_edit,'
      'd_fix, id_fix,rem ,r.fio fio_fix,r1.fio fio_edit'
      'from p_area_bills p'
      'left join personnel r on r.id_p = p.id_fix'
      'left join personnel r1 on r1.id_p = p.id_edit'
      'left join prod_areas a on a.id_p_area = p.id_p_area'
      'where p.id_p_area = :id_area and p.d_bill = :d_bill'
      'and  p.pa_bill_type = 106')
    Left = 400
    Top = 512
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'id_area'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'd_bill'
        ParamType = ptUnknown
      end>
    object qBillNAME: TIBStringField
      DisplayLabel = #1059#1095#1072#1089#1090#1086#1082
      FieldName = 'NAME'
      Origin = '"PROD_AREAS"."NAME"'
      Size = 80
    end
    object qBillID_PA_BILL: TIntegerField
      DisplayLabel = #1056#1077#1075'. '#8470' '#1085#1072#1082#1083#1072#1076#1085#1086#1081
      FieldName = 'ID_PA_BILL'
      Origin = '"P_AREA_BILLS"."ID_PA_BILL"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qBillID_P_AREA: TIntegerField
      DisplayLabel = #1050#1086#1076' '#1091#1095#1072#1089#1090#1082#1072
      FieldName = 'ID_P_AREA'
      Origin = '"P_AREA_BILLS"."ID_P_AREA"'
      Required = True
    end
    object qBillPA_BILL_TYPE: TSmallintField
      DisplayLabel = #1058#1080#1087' '#1085#1072#1082#1083#1072#1076#1085#1086#1081
      FieldName = 'PA_BILL_TYPE'
      Origin = '"P_AREA_BILLS"."PA_BILL_TYPE"'
      Required = True
    end
    object qBillD_BILL: TDateField
      DisplayLabel = #1044'/'#1085#1072#1082#1083#1072#1076#1085#1086#1081
      FieldName = 'D_BILL'
      Origin = '"P_AREA_BILLS"."D_BILL"'
    end
    object qBillNUMBER: TIBStringField
      DisplayLabel = #8470' '#1085#1072#1082#1083#1072#1076#1085#1086#1081
      FieldName = 'NUMBER'
      Origin = '"P_AREA_BILLS"."NUMBER"'
      Size = 16
    end
    object qBillD_EDIT: TDateTimeField
      DisplayLabel = #1044'/'#1057#1086#1079#1076#1072#1085#1080#1103
      FieldName = 'D_EDIT'
      Origin = '"P_AREA_BILLS"."D_EDIT"'
    end
    object qBillID_EDIT: TIntegerField
      DisplayLabel = #1050#1090#1086' '#1089#1086#1079#1076#1072#1083
      FieldName = 'ID_EDIT'
      Origin = '"P_AREA_BILLS"."ID_EDIT"'
    end
    object qBillD_FIX: TDateTimeField
      DisplayLabel = #1044'/'#1055#1086#1076#1096#1080#1074#1082#1080
      FieldName = 'D_FIX'
      Origin = '"P_AREA_BILLS"."D_FIX"'
    end
    object qBillID_FIX: TIntegerField
      DisplayLabel = #1050#1090#1086' '#1087#1086#1076#1096#1080#1083
      FieldName = 'ID_FIX'
      Origin = '"P_AREA_BILLS"."ID_FIX"'
    end
    object qBillREM: TMemoField
      DisplayLabel = #1055#1088#1080#1084#1077#1095#1072#1085#1080#1077
      FieldName = 'REM'
      Origin = '"P_AREA_BILLS"."REM"'
      ProviderFlags = [pfInUpdate]
      BlobType = ftMemo
      Size = 8
    end
    object qBillFIO_FIX: TIBStringField
      DisplayLabel = #1055#1086#1076#1096#1080#1083
      FieldName = 'FIO_FIX'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
    object qBillFIO_EDIT: TIBStringField
      DisplayLabel = #1057#1086#1079#1076#1072#1083
      FieldName = 'FIO_EDIT'
      Origin = '"PERSONNEL"."FIO"'
      Size = 60
    end
  end
  object dsBill: TDataSource
    DataSet = qBill
    Left = 400
    Top = 544
  end
  object UpBill_ss: TIBUpdateSQL
    ModifySQL.Strings = (
      'update pa_bill_pos'
      ' set '
      '     id_object = :id_object,'
      '     id_batch = :id_batch,'
      '     id_step = :id_step,'
      '     obj_type = :obj_type,'
      '     amount = :amount,'
      '      amount_w = :amount_w,'
      '     summa = :summa,'
      '     summa_exp = :summa_exp,'
      '     id_order = :id_order,'
      '     lid = :lid,'
      '     rem = :rem,'
      '     id_prod_traff = :id_prod_traff,'
      '     nds = :nds,'
      '     summa_nds = :summa_nds,'
      '     summa_nds = :summa_nds,'
      '     id_item = :id_item'
      ' where (id_pa_bill_pos = :id_pa_bill_pos)')
    InsertSQL.Strings = (
      
        'insert into pa_bill_pos (id_pa_bill_pos, id_pa_bill, id_object, ' +
        'id_batch, id_prod_oper, id_step, id_unit, obj_type, amount, old_' +
        'prod_oper, id_p, id_team, id_c, summa, summa_exp, id_suboper, id' +
        '_order, lid, rem, id_prod_traff, nds, summa_nds, id_item,amount_' +
        'w)'
      
        'values (:id_pa_bill_pos, :id_pa_bill_, :id_object, :id_batch, :i' +
        'd_prod_oper, :id_step, :id_unit, :obj_type, :amount, :old_prod_o' +
        'per, :id_p, :id_team, :id_c, :summa, :summa_exp, :id_suboper, :i' +
        'd_order, :lid, :rem, :id_prod_traff, :nds, :summa_nds, :id_item,' +
        ':amount_w)')
    DeleteSQL.Strings = (
      'delete from pa_bill_pos'
      'where (id_pa_bill_pos = :id_pa_bill_pos)')
    Left = 368
    Top = 528
  end
  object UpBill: TIBUpdateSQL
    ModifySQL.Strings = (
      'update p_area_bills '
      'set '
      '   d_fix = :d_fix,'
      '  id_fix = :id_fix'
      'where (id_pa_bill = :id_pa_bill)')
    DeleteSQL.Strings = (
      'delete from p_area_bills '
      'where (id_pa_bill = :id_pa_bill)')
    Left = 448
    Top = 528
  end
  object qCurrency: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select * from CURRENCY'
      'order by NAME')
    Left = 112
    Top = 376
    object qCurrencyID_CURRENCY: TSmallintField
      FieldName = 'ID_CURRENCY'
      Origin = '"CURRENCY"."ID_CURRENCY"'
      ProviderFlags = [pfInUpdate, pfInWhere, pfInKey]
      Required = True
    end
    object qCurrencyNAME: TIBStringField
      FieldName = 'NAME'
      Origin = '"CURRENCY"."NAME"'
      Size = 4
    end
    object qCurrencyNAME_FULL: TIBStringField
      FieldName = 'NAME_FULL'
      Origin = '"CURRENCY"."NAME_FULL"'
      Size = 32
    end
    object qCurrencyNAME1: TIBStringField
      FieldName = 'NAME1'
      Origin = '"CURRENCY"."NAME1"'
      Size = 10
    end
    object qCurrencyNAME2: TIBStringField
      FieldName = 'NAME2'
      Origin = '"CURRENCY"."NAME2"'
      Size = 10
    end
    object qCurrencyNAME3: TIBStringField
      FieldName = 'NAME3'
      Origin = '"CURRENCY"."NAME3"'
      Size = 25
    end
    object qCurrencyNAME4: TIBStringField
      FieldName = 'NAME4'
      Origin = '"CURRENCY"."NAME4"'
      Size = 25
    end
    object qCurrencyNAME5: TIBStringField
      FieldName = 'NAME5'
      Origin = '"CURRENCY"."NAME5"'
      Size = 25
    end
    object qCurrencyOTN: TSmallintField
      FieldName = 'OTN'
      Origin = '"CURRENCY"."OTN"'
    end
    object qCurrencyKOLZN: TSmallintField
      FieldName = 'KOLZN'
      Origin = '"CURRENCY"."KOLZN"'
    end
    object qCurrencyMARK: TIBStringField
      FieldName = 'MARK'
      Origin = '"CURRENCY"."MARK"'
      Size = 1
    end
  end
  object dsCurrency: TDataSource
    DataSet = qCurrency
    Left = 120
    Top = 408
  end
  object qContr: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select contract_type, name, comment'
      'from contract_types'
      'order by name')
    Left = 272
    Top = 8
  end
  object dsContr: TDataSource
    DataSet = qContr
    Left = 272
    Top = 56
  end
  object dsWorkType: TDataSource
    DataSet = qWorkType
    Left = 832
    Top = 56
  end
  object qWorkType: TIBQuery
    Database = dbIS
    Transaction = mT
    SQL.Strings = (
      'select distinct p.sortofwork'
      'from personnel p')
    Left = 832
    Top = 8
  end
end
